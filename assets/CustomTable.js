var K=Object.defineProperty,Q=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var A=(e,t,l)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,f=(e,t)=>{for(var l in t||(t={}))z.call(t,l)&&A(e,l,t[l]);if(x)for(var l of x(t))H.call(t,l)&&A(e,l,t[l]);return e},R=(e,t)=>Q(e,Y(t));var _=(e,t)=>{var l={};for(var a in e)z.call(e,a)&&t.indexOf(a)<0&&(l[a]=e[a]);if(e!=null&&x)for(var a of x(e))t.indexOf(a)<0&&H.call(e,a)&&(l[a]=e[a]);return l};import{d as Z}from"./Search.js";import{d as p}from"./Clear.js";import{g as ee,h as te,s as P,r as b,u as re,l as le,_ as D,n as oe,a as r,o as ae,F as v,j as d,aO as ne,ao as j}from"./index.js";import{T as ie,F as ce,b as N}from"./TextField.js";import{B as k}from"./Box.js";import{I as L}from"./InputAdornment.js";import{I as F,i as se}from"./IconButton.js";import{C as de,c as ue}from"./CircularProgress.js";import{P as I}from"./Paper.js";import{G as C}from"./Grid.js";import{T as B}from"./Typography.js";import{R as fe,a as me}from"./RadioGroup.js";import{F as O}from"./FormControlLabel.js";import{F as V}from"./FormGroup.js";import{C as q,c as y}from"./Checkbox.js";import{d as he,a as Ce}from"./SkipNextOutlined.js";import{P as be}from"./Pagination.js";import{g as ye,T as ge,t as U,b as ke,d as ve,a as we,e as xe,f as Re}from"./TableRow.js";import{o as X}from"./outlinedInputClasses.js";import{b as Fe}from"./Button.js";import{L as Se}from"./Loader.js";import"./BootstrapTooltip.js";import"./SpeedDial.module.js";import"./Modal.js";import"./SelectedCard.js";import{S as $e}from"./Stack.js";import{L as _e}from"./LinearProgress.js";function Le(e){return ee("MuiTableFooter",e)}te("MuiTableFooter",["root"]);const Te=["className","component"],Oe=e=>{const{classes:t}=e;return oe({root:["root"]},Le,t)},Pe=P("tfoot",{name:"MuiTableFooter",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-footer-group"}),je={variant:"footer"},G="tfoot",Ie=b.exports.forwardRef(function(t,l){const a=re({props:t,name:"MuiTableFooter"}),{className:o,component:n=G}=a,i=le(a,Te),c=D({},a,{component:n}),u=Oe(c);return r(ye.Provider,{value:je,children:r(Pe,D({as:n,className:ae(u.root,o),ref:l,role:n===G?null:"rowgroup",ownerState:c},i))})});var Be=Ie;const Me=o=>{var n=o,{input:e,focus:t,isLoading:l}=n,a=_(n,["input","focus","isLoading"]);var m;if(e&&e.onChage&&(e.onClick||e.inputRef))throw new Error("Cuando mandas el valor y el onChange event no puedes mandarle el click y el inputRef");if(e&&e.onClick&&e.inputRef&&e.onChage)throw new Error("Cuando mandas el click y el inputRef no puedes mandar el valor ni el onChange");const i=s=>{e!=null&&e.onChage&&e.onChage(s)},c=s=>{s.preventDefault(),e!=null&&e.onClick&&e.onClick()},u=s=>{s.preventDefault(),e!=null&&e.onClear&&(e.onClear(),e.inputRef&&e.inputRef.current&&(e.inputRef.current.value="",e.inputRef.current.focus()))};return r(v,{children:r("form",{onSubmit:c,children:r(ie,{label:(m=a.label)!=null?m:"Buscar...",variant:"outlined",size:"small",fullWidth:!0,value:e==null?void 0:e.value,onChange:i,autoFocus:t,inputRef:e==null?void 0:e.inputRef,helperText:a.helperText,InputProps:{endAdornment:d(k,{sx:{display:"flex",alignItems:"center"},children:[(e==null?void 0:e.onClick)&&r(L,{position:"end",children:r(F,{onClick:c,children:r(Z,{})})}),e&&e.onClear&&r(L,{position:"end",children:r(F,{onClick:u,children:r(p,{})})}),l&&r(L,{position:"end",children:r(de,{size:20})})]})}})})})},Ee=e=>{const t=o=>{var n,i;if(o.target.checked)(n=e==null?void 0:e.filterCheck)==null||n.setFilter.push({[`${o.target.name}`]:o.target.value});else{const c=Object.assign({},...e.filterCheck.filterList),m=Object.keys(c).findIndex(s=>s===o.target.name);(i=e==null?void 0:e.filterCheck)==null||i.setFilter.removeAt(m)}},l=o=>{var n,i,c,u,m,s;if(((n=e.filterRadio)==null?void 0:n.filterRadioList)&&((i=e.filterRadio)==null?void 0:i.filterRadioList.length)>0){const w=(c=e.filterRadio)==null?void 0:c.filterRadioList.flatMap(g=>Object.keys(g)).findIndex(g=>g===o.target.name);w>-1?(u=e.filterRadio)==null||u.setFilterRadio.updateAt(w,{[`${o.target.name}`]:o.target.value}):(m=e.filterRadio)==null||m.setFilterRadio.push({[`${o.target.name}`]:o.target.value})}else(s=e.filterRadio)==null||s.setFilterRadio.push({[`${o.target.name}`]:o.target.value})},a=o=>{var n,i,c,u;if(((n=e.filterRadio)==null?void 0:n.filterRadioList)&&((i=e.filterRadio)==null?void 0:i.filterRadioList.length)>0){const m=(c=e.filterRadio)==null?void 0:c.filterRadioList.flatMap(s=>Object.keys(s)).findIndex(s=>s===o.name);if(m>-1)return((u=e.filterRadio)==null?void 0:u.filterRadioList[m])[`${o.name}`]}return o.value};return r(I,{variant:"outlined",style:{padding:10,width:"100%"},children:d(C,{container:!0,direction:"column",children:[r(C,{item:!0,children:r(B,{variant:"h6",children:"Filtrar por:"})}),e.filterRadio&&e.filterRadio.radios.map((o,n)=>r(C,{item:!0,children:d(ce,{component:"fieldset",children:[r(N,{component:"legend",children:o.label}),r(fe,{"aria-label":`${o.label}`,defaultValue:"female",name:`${o.name}`,row:!0,onChange:l,value:a(o),children:o.list.map((i,c)=>r(O,{value:i.value,control:r(me,{}),label:i.label},i.value))})]})},o.name)),e.filterCheck&&d(C,{item:!0,children:[r(N,{component:"legend",children:"Otros filtros"}),r(V,{row:!0,children:e.filterCheck.list.map((o,n)=>{const i=Object.assign({},...e.filterCheck.filterList),c=Object.prototype.hasOwnProperty.call(i,o.name);return r(O,{control:r(q,{name:o.name,value:o.value,checked:c,color:"primary",onChange:t}),label:o.label},n)})})]})]})})},Ae=e=>{const t=(l,a,o,n)=>{var i,c,u;if(n)((i=e.filterCheck)==null?void 0:i.filterList.length)===0?e.filterCheck.setFilter.push({[`${l}`]:a}):(c=e.filterCheck)==null||c.setFilter.insertAt(o,{[`${l}`]:a});else{const m=Object.assign({},...e.filterCheck.filterList),w=Object.keys(m).findIndex(g=>g===l);(u=e.filterCheck)==null||u.setFilter.removeAt(w)}};return r(I,{variant:"outlined",style:{padding:10,width:"100%"},children:d(C,{container:!0,direction:"column",children:[r(C,{item:!0,children:r(B,{variant:"h6",children:"Ordenar por:"})}),r(C,{item:!0,children:r(V,{row:!0,children:e.filterCheck&&e.filterCheck.list.map((l,a)=>{const n=Object.assign({},...e.filterCheck.filterList).hasOwnProperty(l.name);return r(O,{control:r(q,{name:l.name,value:l.value,checked:n,color:"primary",onChange:i=>t(l.name,l.value,a,i.target.checked)}),label:l.label},a)})})})]})})},ze=l=>{var a=l,{pagination:e}=a,t=_(a,["pagination"]);return r(v,{children:!t.notFound&&e&&d(v,{children:[t.selectedCount&&t.selectedCount>0?d("div",{style:{margin:15},children:[t.selectedCount," filas seleccionadas"]}):r(v,{}),d("div",{style:{margin:10,display:"flex",alignItems:"center"},children:[t.onSkipPrev&&r(F,{size:"small",onClick:t.onSkipPrev,disabled:e.page<=10,sx:{color:"black",":disabled":{color:"darkgrey"}},children:r(he,{})}),r(be,R(f({color:"primary"},e),{boundaryCount:2,siblingCount:2})),t.onSkipNext&&r(F,{size:"small",onClick:t.onSkipNext,disabled:e.count-e.page<10,sx:{color:"black",":disabled":{color:"darkgrey"}},children:r(Ce,{})})]})]})})};var J={},M={},E={};Object.defineProperty(E,"__esModule",{value:!0});var He=j.exports,De=b.exports,Ne=He.__importDefault(ne),Ue=function(e){var t=De.useRef(e);t.current=e,Ne.default(function(){return function(){return t.current()}})};E.default=Ue;Object.defineProperty(M,"__esModule",{value:!0});var Ge=j.exports,T=b.exports,We=Ge.__importDefault(E),Ve=function(e){var t=T.useRef(0),l=T.useState(e),a=l[0],o=l[1],n=T.useCallback(function(i){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){o(i)})},[]);return We.default(function(){cancelAnimationFrame(t.current)}),[a,n]};M.default=Ve;var h={};Object.defineProperty(h,"__esModule",{value:!0});h.isNavigator=h.isBrowser=h.off=h.on=h.noop=void 0;var qe=function(){};h.noop=qe;function Xe(e){for(var t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];e&&e.addEventListener&&e.addEventListener.apply(e,t)}h.on=Xe;function Je(e){for(var t=[],l=1;l<arguments.length;l++)t[l-1]=arguments[l];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}h.off=Je;h.isBrowser=typeof window!="undefined";h.isNavigator=typeof navigator!="undefined";Object.defineProperty(J,"__esModule",{value:!0});var Ke=j.exports,Qe=b.exports,Ye=Ke.__importDefault(M),W=h,Ze=function(e){var t=Ye.default({x:0,y:0}),l=t[0],a=t[1];return Qe.useEffect(function(){var o=function(){e.current&&a({x:e.current.scrollLeft,y:e.current.scrollTop})};return e.current&&W.on(e.current,"scroll",o,{capture:!1,passive:!0}),function(){e.current&&W.off(e.current,"scroll",o)}},[e]),l},pe=J.default=Ze;const S=P(ge)(({theme:e})=>({[`&.${U.head}`]:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,borderColor:e.palette.common.white,[`& .${y.checked}`]:{color:"white"},[`& .${X.adornedEnd}`]:{color:"white",backgroundColor:"white"},[`& .${y.indeterminate}`]:{color:"white"},[`& .${y.root}`]:{color:"white"}},[`&.${U.body}`]:{fontSize:14}})),$=P(ke)(({theme:e})=>({"&:nth-of-type(odd)":{backgroundColor:e.palette.action.disabledBackground},"&:last-child td, &:last-child th":{border:0},"&:hover":{backgroundColor:e.palette.primary.main,color:e.palette.common.white,borderColor:e.palette.common.white,"& .MuiTableCell-root":{color:"white"},[`& .${X.adornedEnd}`]:{color:"white",backgroundColor:"white"},[`& .${ue.circle}`]:{color:"white",backgroundColor:"white"},[`& .${y.checked}`]:{color:"white"},[`& .${y.indeterminate}`]:{color:"white"},[`& .${y.root}`]:{color:"white"},"& .MuiButton-root":{color:"white"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"white"},"& input":{color:"white"}},"& label.Mui-focused":{color:"white"},"& label":{color:"gray"},"& .Mui-focused":{color:"white",borderColor:"white"},"& .MuiInput-underline:after":{borderBottomColor:"white"},[`& .${se.root}`]:{color:"white"},[`& .${Fe.root}`]:{color:"white"}}})),et=e=>{var t;return r(Be,{children:r($,{children:(t=e.tableFooter)==null?void 0:t.map((l,a)=>r(S,{colSpan:l.colSpan,rowSpan:l.rowSpan,sx:f({},e.stickyFooter&&e.stickyFooter===a?e.stickyOpts:{}),children:l.cell},a))})})},tt=e=>{var t;return d(ve,{children:[!e.tableBody&&e.children,!e.children&&((t=e.tableBody)==null?void 0:t.map((l,a)=>a===0?r($,{children:l.map((o,n)=>r(S,{component:"th",scope:"row",sx:f({"&:last-child td, &:last-child th":{border:0}},e.stickyColumn&&e.stickyColumn===n?e.stickyOpts:{}),children:o},n))},a):r($,{children:l.map((o,n)=>r(S,{component:"th",scope:"row",sx:f({},e.stickyColumn&&e.stickyColumn===n?e.stickyOpts:{}),children:o},n))},a)))]})},rt=e=>{var t;return r(we,{children:r($,{children:(t=e.tableHeader)==null?void 0:t.map((l,a)=>r(S,{sx:f({},e.stickyColumn&&e.stickyColumn===a?e.stickyOpts:{}),style:{zIndex:5},ref:o=>e.divRef.current[a]=o,children:l},a))})})},lt=e=>{const t=b.exports.useRef([]);return b.exports.useEffect(()=>{t.current=t.current.slice(0,e==null?void 0:e.length)},[e]),t},jt=e=>{const t=b.exports.useRef(null),{x:l}=pe(t),a=lt(e.tableHeader),o={zIndex:2,position:"sticky",left:-.1,backgroundColor:e.stickyColumn&&e.stickyColumn===0&&l>0||e.stickyColumn&&e.stickyColumn>0&&a.current&&a.current.length>0&&l>a.current.filter((n,i)=>i<e.stickyColumn).map(n=>n.offsetWidth).reduce((n,i)=>n+i)?"#396781":void 0};return d(I,{sx:f({width:"100%",overflowX:"auto"},e.sx),variant:"outlined",children:[e.title||e.isSearch?d(k,{style:{padding:10,display:"flex",flexDirection:"column"},children:[e.title&&d(k,{sx:{flexGrow:1,position:"relative"},children:[typeof e.title=="string"||e.title instanceof String?r(B,{variant:"h5",children:e.title}):r(v,{children:e.title}),e.titleAction&&r("div",{style:{position:"absolute",right:0,bottom:0},children:e.titleAction})]}),e.isSearch&&r(k,{sx:{flexGrow:1},children:r(Me,f({isLoading:e.isFetching||e.loading},e.isSearch))})]}):null,(e.filter||e.order)&&d($e,{direction:{xs:"column",md:"row"},spacing:1,style:{margin:10},children:[e.filter&&r(Ee,f({},e.filter)),e.order&&r(Ae,f({},e.order))]}),!e.loading&&e.notFound,e.loading&&r(Se,{margin:10}),!e.loading&&!e.notFound&&d(xe,{sx:R(f({},e.containerSx),{display:"block",whiteSpace:"nowrap",overflow:"auto"}),style:e.containerStyle,ref:t,children:[(e.isFetching||e.loading)&&r(_e,{}),d(Re,{sx:R(f({},e.tableSx),{minWidth:650}),"aria-label":"a dense table",size:e.size,stickyHeader:e.stickyHeader,style:e.tableStyle,children:[r(rt,{tableHeader:e.tableHeader,stickyColumn:e.stickyColumn,stickyOpts:o,divRef:a}),r(tt,{tableBody:e.tableBody,stickyColumn:e.stickyColumn,stickyOpts:o,children:e.children}),r(et,{tableFooter:e.tableFooter,stickyFooter:e.stickyFooter,stickyOpts:o})]})]}),!e.loading&&!e.notFound&&r(ze,f({},e)),e.anyFooter?r(k,{style:{padding:10,display:"flex",flexDirection:"column"},children:e.anyFooter}):null]})};export{jt as C};
