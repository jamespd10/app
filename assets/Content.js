import{D as lt}from"./SidebarHeader.js";import{h as N,k as $,l as w,$ as ut,_ as c,r as s,u as H,c as S,n as I,j as _,a as i,e as j,m as k,O as dt,D,a0 as pt,A as U,F as mt}from"./index.js";import"./jwt-decode.esm.js";import{P as ft}from"./Paper.js";import{G as ht}from"./Grow.js";import{A as gt}from"./Alert.js";import{a as G}from"./ContentProvider.js";import{M as xt}from"./Modal2.js";import{u as Ct}from"./useFetcher.js";import{B as vt}from"./Box.js";import"./createSvgIcon.js";import"./Close.js";import"./IconButton.js";import"./ButtonBase.js";import"./useIsFocusVisible.js";import"./useModal.js";import"./Close2.js";import"./jsx-runtime_commonjs-proxy.js";import"./useControlled.js";import"./DialogTitle.js";import"./Backdrop.js";import"./Modal.js";import"./isHostComponent.js";import"./Portal.js";import"./Typography.js";import"./extendSxProp.js";import"./Error.js";import"./Button.js";import"./useService.js";import"./constants.js";function bt(e){return N("MuiSnackbarContent",e)}$("MuiSnackbarContent",["root","message","action"]);const kt=["action","className","message","role"],wt=e=>{const{classes:t}=e;return I({root:["root"],action:["action"],message:["message"]},bt,t)},yt=w(ft,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=ut(e.palette.background.default,t);return c({},e.typography.body2,{color:e.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:e.shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Ot=w("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),St=w("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Et=s.exports.forwardRef(function(t,n){const r=H({props:t,name:"MuiSnackbarContent"}),{action:a,className:l,message:d,role:f="alert"}=r,y=S(r,kt),u=r,g=wt(u);return _(yt,c({role:f,square:!0,elevation:6,className:j(g.root,l),ownerState:u,ref:n},y,{children:[i(Ot,{className:g.message,ownerState:u,children:d}),a?i(St,{className:g.action,ownerState:u,children:a}):null]}))});var Rt=Et;function Lt(e){return N("MuiSnackbar",e)}$("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Mt=["onEnter","onExited"],Tt=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],At=e=>{const{classes:t,anchorOrigin:n}=e,r={root:["root",`anchorOrigin${k(n.vertical)}${k(n.horizontal)}`]};return I(r,Lt,t)},zt=w("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${k(n.anchorOrigin.vertical)}${k(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n=c({},!t.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"},t.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return c({zIndex:e.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:c({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&c({},!t.isRtl&&{left:24,right:"auto"},t.isRtl&&{right:24,left:"auto"}),t.anchorOrigin.horizontal==="right"&&c({},!t.isRtl&&{right:24,left:"auto"},t.isRtl&&{left:24,right:"auto"}))})}),Bt=s.exports.forwardRef(function(t,n){const r=H({props:t,name:"MuiSnackbar"}),a=dt(),l={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:d,anchorOrigin:{vertical:f,horizontal:y}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:g,className:W,ClickAwayListenerProps:X,ContentProps:K,disableWindowBlurListener:E=!1,message:q,onBlur:R,onClose:p,onFocus:L,onMouseEnter:M,onMouseLeave:T,open:m,resumeHideDuration:O,TransitionComponent:Y=ht,transitionDuration:J=l,TransitionProps:{onEnter:A,onExited:z}={}}=r,Q=S(r.TransitionProps,Mt),V=S(r,Tt),Z=a.direction==="rtl",B=c({},r,{anchorOrigin:{vertical:f,horizontal:y},isRtl:Z}),tt=At(B),C=s.exports.useRef(),[P,F]=s.exports.useState(!0),et=D((...o)=>{p&&p(...o)}),v=D(o=>{!p||o==null||(clearTimeout(C.current),C.current=setTimeout(()=>{et(null,"timeout")},o))});s.exports.useEffect(()=>(m&&v(u),()=>{clearTimeout(C.current)}),[m,u,v]);const b=()=>{clearTimeout(C.current)},x=s.exports.useCallback(()=>{u!=null&&v(O!=null?O:u*.5)},[u,O,v]),nt=o=>{L&&L(o),b()},ot=o=>{M&&M(o),b()},rt=o=>{R&&R(o),x()},st=o=>{T&&T(o),x()},it=o=>{p&&p(o,"clickaway")},at=o=>{F(!0),z&&z(o)},ct=(o,h)=>{F(!1),A&&A(o,h)};return s.exports.useEffect(()=>{if(!E&&m)return window.addEventListener("focus",x),window.addEventListener("blur",b),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",b)}},[E,x,m]),s.exports.useEffect(()=>{if(!m)return;function o(h){h.defaultPrevented||(h.key==="Escape"||h.key==="Esc")&&p&&p(h,"escapeKeyDown")}return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[P,m,p]),!m&&P?null:i(pt,c({onClickAway:it},X,{children:i(zt,c({className:j(tt.root,W),onBlur:rt,onFocus:nt,onMouseEnter:ot,onMouseLeave:st,ownerState:B,ref:n,role:"presentation"},V,{children:i(Y,c({appear:!0,in:m,timeout:J,direction:f==="top"?"down":"up",onEnter:ct,onExited:at},Q,{children:g||i(Rt,c({message:q,action:d},K))}))}))}))});var Pt=Bt;const Ft=()=>{const[e,t]=s.exports.useState(navigator.onLine),[n,r]=s.exports.useState(!1),a=()=>r(!1),l=()=>r(!0);return s.exports.useEffect(()=>{const d=()=>{fetch("https://google.com/",{mode:"no-cors"}).then(f=>{t(!0),l()}).catch(f=>{t(!1),l()})};return window.addEventListener("online",d),window.addEventListener("offline",d),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",d)}},[]),{online:e,open:n,handleClose:a}},Dt=()=>{const{online:e,open:t,handleClose:n}=Ft();return i(Pt,{open:t,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:i(gt,{severity:e?"success":"error",variant:"filled",onClose:n,children:e?"Conectado de nuevo a Internet":"Sin conexi\xF3n a Internet"})})},Nt=()=>{const{modalSignOut:e}=s.exports.useContext(G),{modalState:t,setHide:n}=e,{signOut:r}=s.exports.useContext(U),[a,l]=Ct();return i(mt,{children:i(xt,{title:"\xA1Atenci\xF3n!",state:t,type:"ERROR",body:"\xBFRealmente desea salir?",setHide:()=>n(),actionButton:{text:"Salir",actionFunction:()=>l("/signout",{method:"POST"}).finally(()=>{n(),r()}),isLoading:a},cancelBotton:{text:"Cancelar",actionFunction:()=>n()}})})},fe=({children:e})=>{const{contentScroll:t}=s.exports.useContext(G),{authState:n}=s.exports.useContext(U),{isLoggedIn:r}=n,[,,,a]=t;return _(vt,{component:"main",sx:{flexGrow:1,p:1,marginTop:l=>l.spacing(1),height:"100%",overflowY:"auto",overflowX:"hidden"},ref:a,children:[i(Dt,{}),i(lt,{}),e,r&&i(Nt,{})]})};export{fe as default};
