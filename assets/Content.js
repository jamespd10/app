import{g as D,c as I,s as y,e as le,_ as a,r as s,u as _,f as S,h as $,j,a as c,i as H,k as v,l as ue,m as N,C as de,A as U,n as pe,F as me}from"./index.js";import{P as fe}from"./Paper.js";import{G as he}from"./Grow.js";import{A as ge}from"./Alert.js";import{a as W}from"./ContentProvider.js";import xe from"./Modal.js";import{s as Ce}from"./App.module.js";import"./createSvgIcon.js";import"./Close.js";import"./IconButton.js";import"./ButtonBase.js";import"./useIsFocusVisible.js";import"./useModal.js";import"./Close2.js";import"./jsx-runtime_commonjs-proxy.js";import"./useControlled.js";import"./LoadingButton.js";import"./Backdrop.js";import"./Modal2.js";import"./isHostComponent.js";import"./Portal.js";import"./Typography.js";import"./Button.js";import"./Error.js";function be(t){return D("MuiSnackbarContent",t)}I("MuiSnackbarContent",["root","message","action"]);const ke=["action","className","message","role"],ve=t=>{const{classes:e}=t;return $({root:["root"],action:["action"],message:["message"]},be,e)},ye=y(fe,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=le(t.palette.background.default,e);return a({},t.typography.body2,{color:t.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),we=y("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),Oe=y("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Se=s.exports.forwardRef(function(e,n){const r=_({props:e,name:"MuiSnackbarContent"}),{action:i,className:u,message:d,role:f="alert"}=r,w=S(r,ke),l=r,g=ve(l);return j(ye,a({role:f,square:!0,elevation:6,className:H(g.root,u),ownerState:l,ref:n},w,{children:[c(we,{className:g.message,ownerState:l,children:d}),i?c(Oe,{className:g.action,ownerState:l,children:i}):null]}))});var Ee=Se;function Re(t){return D("MuiSnackbar",t)}I("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Le=["onEnter","onExited"],Me=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Te=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${v(n.vertical)}${v(n.horizontal)}`]};return $(r,Re,e)},Ae=y("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${v(n.anchorOrigin.vertical)}${v(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n=a({},!e.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"},e.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return a({zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:a({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&a({},!e.isRtl&&{left:24,right:"auto"},e.isRtl&&{right:24,left:"auto"}),e.anchorOrigin.horizontal==="right"&&a({},!e.isRtl&&{right:24,left:"auto"},e.isRtl&&{left:24,right:"auto"}))})}),ze=s.exports.forwardRef(function(e,n){const r=_({props:e,name:"MuiSnackbar"}),i=ue(),u={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:d,anchorOrigin:{vertical:f,horizontal:w}={vertical:"bottom",horizontal:"left"},autoHideDuration:l=null,children:g,className:G,ClickAwayListenerProps:K,ContentProps:X,disableWindowBlurListener:E=!1,message:q,onBlur:R,onClose:p,onFocus:L,onMouseEnter:M,onMouseLeave:T,open:m,resumeHideDuration:O,TransitionComponent:J=he,transitionDuration:Q=u,TransitionProps:{onEnter:A,onExited:z}={}}=r,V=S(r.TransitionProps,Le),Y=S(r,Me),Z=i.direction==="rtl",P=a({},r,{anchorOrigin:{vertical:f,horizontal:w},isRtl:Z}),ee=Te(P),C=s.exports.useRef(),[B,F]=s.exports.useState(!0),te=N((...o)=>{p&&p(...o)}),b=N(o=>{!p||o==null||(clearTimeout(C.current),C.current=setTimeout(()=>{te(null,"timeout")},o))});s.exports.useEffect(()=>(m&&b(l),()=>{clearTimeout(C.current)}),[m,l,b]);const k=()=>{clearTimeout(C.current)},x=s.exports.useCallback(()=>{l!=null&&b(O!=null?O:l*.5)},[l,O,b]),ne=o=>{L&&L(o),k()},oe=o=>{M&&M(o),k()},re=o=>{R&&R(o),x()},se=o=>{T&&T(o),x()},ie=o=>{p&&p(o,"clickaway")},ae=o=>{F(!0),z&&z(o)},ce=(o,h)=>{F(!1),A&&A(o,h)};return s.exports.useEffect(()=>{if(!E&&m)return window.addEventListener("focus",x),window.addEventListener("blur",k),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",k)}},[E,x,m]),s.exports.useEffect(()=>{if(!m)return;function o(h){h.defaultPrevented||(h.key==="Escape"||h.key==="Esc")&&p&&p(h,"escapeKeyDown")}return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[B,m,p]),!m&&B?null:c(de,a({onClickAway:ie},K,{children:c(Ae,a({className:H(ee.root,G),onBlur:re,onFocus:ne,onMouseEnter:oe,onMouseLeave:se,ownerState:P,ref:n,role:"presentation"},Y,{children:c(J,a({appear:!0,in:m,timeout:Q,direction:f==="top"?"down":"up",onEnter:ce,onExited:ae},V,{children:g||c(Ee,a({message:q,action:d},X))}))}))}))});var Pe=ze;const Be=()=>{const[t,e]=s.exports.useState(navigator.onLine),[n,r]=s.exports.useState(!1),i=()=>r(!1),u=()=>r(!0);return s.exports.useEffect(()=>{const d=()=>{fetch("https://google.com/",{mode:"no-cors"}).then(f=>{e(!0),u()}).catch(f=>{e(!1),u()})};return window.addEventListener("online",d),window.addEventListener("offline",d),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",d)}},[]),{online:t,open:n,handleClose:i}},Fe=()=>{const{online:t,open:e,handleClose:n}=Be();return c(Pe,{open:e,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:c(ge,{severity:t?"success":"error",variant:"filled",onClose:n,children:t?"Conectado de nuevo a Internet":"Sin conexi\xF3n a Internet"})})},Ne=()=>{const{modalSignOut:t}=s.exports.useContext(W),{modalState:e,setHide:n}=t,{signOut:r}=s.exports.useContext(U),[i,u]=pe();return c(me,{children:c(xe,{title:"\xA1Atenci\xF3n!",state:e,type:"ERROR",body:"\xBFRealmente desea salir?",setHide:()=>n(),actionButton:{text:"Salir",actionFunction:()=>u("/signout",{method:"POST"}).finally(()=>{n(),r()}),isLoading:i},cancelBotton:{text:"Cancelar",actionFunction:()=>n()}})})},at=({children:t})=>{const{contentScroll:e}=s.exports.useContext(W),{authState:n}=s.exports.useContext(U),{isLoggedIn:r}=n,[,,,i]=e;return j("main",{className:Ce.main,ref:i,children:[c(Fe,{}),t,r&&c(Ne,{})]})};export{at as default};
