import{D as le}from"./SidebarHeader.js";import{h as N,k as H,l as w,a0 as ue,_ as c,r as s,u as I,c as S,n as _,j as $,a as i,e as j,m as k,O as de,D,a1 as pe,A as U,a2 as me,F as fe}from"./index.js";import"./jwt-decode.esm.js";import{P as he}from"./Paper.js";import{G as ge}from"./Grow.js";import{A as xe}from"./Alert.js";import{a as G}from"./ContentProvider.js";import Ce from"./Modal2.js";import{B as ve}from"./Box.js";import"./createSvgIcon.js";import"./Close.js";import"./IconButton.js";import"./ButtonBase.js";import"./useIsFocusVisible.js";import"./useModal.js";import"./Close2.js";import"./jsx-runtime_commonjs-proxy.js";import"./useControlled.js";import"./LoadingButton.js";import"./Backdrop.js";import"./Modal.js";import"./isHostComponent.js";import"./Portal.js";import"./Typography.js";import"./extendSxProp.js";import"./Button.js";import"./Error.js";function be(t){return N("MuiSnackbarContent",t)}H("MuiSnackbarContent",["root","message","action"]);const ke=["action","className","message","role"],we=t=>{const{classes:e}=t;return _({root:["root"],action:["action"],message:["message"]},be,e)},ye=w(he,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=ue(t.palette.background.default,e);return c({},t.typography.body2,{color:t.palette.getContrastText(n),backgroundColor:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Oe=w("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),Se=w("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Ee=s.exports.forwardRef(function(e,n){const r=I({props:e,name:"MuiSnackbarContent"}),{action:a,className:l,message:d,role:f="alert"}=r,y=S(r,ke),u=r,g=we(u);return $(ye,c({role:f,square:!0,elevation:6,className:j(g.root,l),ownerState:u,ref:n},y,{children:[i(Oe,{className:g.message,ownerState:u,children:d}),a?i(Se,{className:g.action,ownerState:u,children:a}):null]}))});var Re=Ee;function Le(t){return N("MuiSnackbar",t)}H("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Me=["onEnter","onExited"],Te=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Ae=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${k(n.vertical)}${k(n.horizontal)}`]};return _(r,Le,e)},ze=w("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${k(n.anchorOrigin.vertical)}${k(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n=c({},!e.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"},e.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return c({zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:c({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&c({},!e.isRtl&&{left:24,right:"auto"},e.isRtl&&{right:24,left:"auto"}),e.anchorOrigin.horizontal==="right"&&c({},!e.isRtl&&{right:24,left:"auto"},e.isRtl&&{left:24,right:"auto"}))})}),Be=s.exports.forwardRef(function(e,n){const r=I({props:e,name:"MuiSnackbar"}),a=de(),l={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{action:d,anchorOrigin:{vertical:f,horizontal:y}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:g,className:W,ClickAwayListenerProps:X,ContentProps:K,disableWindowBlurListener:E=!1,message:q,onBlur:R,onClose:p,onFocus:L,onMouseEnter:M,onMouseLeave:T,open:m,resumeHideDuration:O,TransitionComponent:Y=ge,transitionDuration:J=l,TransitionProps:{onEnter:A,onExited:z}={}}=r,Q=S(r.TransitionProps,Me),V=S(r,Te),Z=a.direction==="rtl",B=c({},r,{anchorOrigin:{vertical:f,horizontal:y},isRtl:Z}),ee=Ae(B),C=s.exports.useRef(),[P,F]=s.exports.useState(!0),te=D((...o)=>{p&&p(...o)}),v=D(o=>{!p||o==null||(clearTimeout(C.current),C.current=setTimeout(()=>{te(null,"timeout")},o))});s.exports.useEffect(()=>(m&&v(u),()=>{clearTimeout(C.current)}),[m,u,v]);const b=()=>{clearTimeout(C.current)},x=s.exports.useCallback(()=>{u!=null&&v(O!=null?O:u*.5)},[u,O,v]),ne=o=>{L&&L(o),b()},oe=o=>{M&&M(o),b()},re=o=>{R&&R(o),x()},se=o=>{T&&T(o),x()},ie=o=>{p&&p(o,"clickaway")},ae=o=>{F(!0),z&&z(o)},ce=(o,h)=>{F(!1),A&&A(o,h)};return s.exports.useEffect(()=>{if(!E&&m)return window.addEventListener("focus",x),window.addEventListener("blur",b),()=>{window.removeEventListener("focus",x),window.removeEventListener("blur",b)}},[E,x,m]),s.exports.useEffect(()=>{if(!m)return;function o(h){h.defaultPrevented||(h.key==="Escape"||h.key==="Esc")&&p&&p(h,"escapeKeyDown")}return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[P,m,p]),!m&&P?null:i(pe,c({onClickAway:ie},X,{children:i(ze,c({className:j(ee.root,W),onBlur:re,onFocus:ne,onMouseEnter:oe,onMouseLeave:se,ownerState:B,ref:n,role:"presentation"},V,{children:i(Y,c({appear:!0,in:m,timeout:J,direction:f==="top"?"down":"up",onEnter:ce,onExited:ae},Q,{children:g||i(Re,c({message:q,action:d},K))}))}))}))});var Pe=Be;const Fe=()=>{const[t,e]=s.exports.useState(navigator.onLine),[n,r]=s.exports.useState(!1),a=()=>r(!1),l=()=>r(!0);return s.exports.useEffect(()=>{const d=()=>{fetch("https://google.com/",{mode:"no-cors"}).then(f=>{e(!0),l()}).catch(f=>{e(!1),l()})};return window.addEventListener("online",d),window.addEventListener("offline",d),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",d)}},[]),{online:t,open:n,handleClose:a}},De=()=>{const{online:t,open:e,handleClose:n}=Fe();return i(Pe,{open:e,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:i(xe,{severity:t?"success":"error",variant:"filled",onClose:n,children:t?"Conectado de nuevo a Internet":"Sin conexi\xF3n a Internet"})})},Ne=()=>{const{modalSignOut:t}=s.exports.useContext(G),{modalState:e,setHide:n}=t,{signOut:r}=s.exports.useContext(U),[a,l]=me();return i(fe,{children:i(Ce,{title:"\xA1Atenci\xF3n!",state:e,type:"ERROR",body:"\xBFRealmente desea salir?",setHide:()=>n(),actionButton:{text:"Salir",actionFunction:()=>l("/signout",{method:"POST"}).finally(()=>{n(),r()}),isLoading:a},cancelBotton:{text:"Cancelar",actionFunction:()=>n()}})})},dt=({children:t})=>{const{contentScroll:e}=s.exports.useContext(G),{authState:n}=s.exports.useContext(U),{isLoggedIn:r}=n,[,,,a]=e;return $(ve,{component:"main",sx:{flexGrow:1,p:1,marginTop:l=>l.spacing(1),height:"100%",overflowY:"auto",overflowX:"hidden"},ref:a,children:[i(De,{}),i(le,{}),t,r&&i(Ne,{})]})};export{dt as default};
