var I=Object.defineProperty,M=Object.defineProperties;var j=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var F=(t,r,o)=>r in t?I(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,n=(t,r)=>{for(var o in r||(r={}))S.call(r,o)&&F(t,o,r[o]);if(l)for(var o of l(r))_.call(r,o)&&F(t,o,r[o]);return t},p=(t,r)=>M(t,j(r));var C=(t,r)=>{var o={};for(var e in t)S.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&l)for(var e of l(t))r.indexOf(e)<0&&_.call(t,e)&&(o[e]=t[e]);return o};import{r as u,a,a0 as T,j as P}from"./index.js";import k from"./Modal2.js";import{c as B,b as L,g as N,o as O,F as R,u as A}from"./array.js";import{p as $}from"./regex.js";import{u as q}from"./useModal.js";import"./jwt-decode.esm.js";import{P as w}from"./PatronalInput.js";import{S as G}from"./Stack.js";import{A as V}from"./Alert.js";import"./Close2.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./useControlled.js";import"./useIsFocusVisible.js";import"./LoadingButton.js";import"./Backdrop.js";import"./Modal.js";import"./isHostComponent.js";import"./Portal.js";import"./Paper.js";import"./Typography.js";import"./extendSxProp.js";import"./Button.js";import"./ButtonBase.js";import"./IconButton.js";import"./Error.js";import"./upperFirst.js";import"./TextInput.js";import"./TextField.js";import"./FormHelperText.js";import"./react-is.production.min.js";import"./Menu.js";import"./Grow.js";import"./List.js";import"./GlobalStyles.js";import"./CustomSipe.js";import"./index7.js";import"./Close.js";const W=B().shape({patronal_sipe:L().typeError("Favor ingresar el n\xFAmero patronal").trim().matches($,"Favor usar el siguiente formato: ##-###-#####").required("Favor de ingresar el n\xFAmero patronal")}),h=u.exports.createContext({}),z=o=>{var e=o,{children:t}=e,r=C(e,["children"]);const m=q(),c=N({mode:"all",resolver:O(W),defaultValues:{patronal_sipe:r.patronal}});return a(h.Provider,{value:p(n({},r),{modal:m}),children:a(R,p(n({},c),{children:t}))})},D=()=>{var e;const{register:t,formState:r}=A(),{errors:o}=r;return a(w,p(n({label:"Patronal SIPE",fullWidth:!0,sipe:!0},t("patronal_sipe")),{error:!!o.patronal_sipe,helperText:(e=o.patronal_sipe)==null?void 0:e.message}))},J=()=>{const{modal:t,patronal:r,negocio:o,multer:e}=u.exports.useContext(h),m=T(),[c,y,i,s,,f]=m,E=A(),{reset:v,handleSubmit:b}=E,{modalState:H,setHide:x}=t,g=()=>{x(),f(),v({patronal_sipe:r})};return a(k,{title:"Editar Patronal SIPE",type:"NORMAL",state:H,setHide:g,cancelBotton:{text:"Cerrar",actionFunction:g},actionButton:{text:"Guardar",isLoading:c,actionFunction:b(async d=>{(await y(`/admin/supervalidados/negocios/${o}`,{method:"PATCH",data:{field:"negocios.patronal_sipe",value:d.patronal_sipe}})).data&&(e(d),v(n({},d)),x(),f())})},children:P(G,{spacing:1,direction:"column",children:[i||s?a(V,{variant:"outlined",severity:i&&!s?"success":"error",children:(i==null?void 0:i.message)||(s==null?void 0:s.message)}):null,a(D,{})]})})},K="_divPatronal_bhsc1_1";var Q={divPatronal:K};const U=()=>{const{patronal:t,modal:r}=u.exports.useContext(h),{setOpen:o}=r;return P("div",{className:Q.divPatronal,onClick:()=>o(),children:[a("strong",{children:"Patronal SIPE:"})," ",a("span",{children:t})]})},Ot=t=>P(z,p(n({},t),{children:[a(J,{}),a(U,{})]}));export{Ot as default};
