var D=Object.defineProperty,I=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var x=(n,t,e)=>t in n?D(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,l=(n,t)=>{for(var e in t||(t={}))m.call(t,e)&&x(n,e,t[e]);if(u)for(var e of u(t))k.call(t,e)&&x(n,e,t[e]);return n},c=(n,t)=>I(n,V(t));var v=(n,t)=>{var e={};for(var s in n)m.call(n,s)&&t.indexOf(s)<0&&(e[s]=n[s]);if(n!=null&&u)for(var s of u(n))t.indexOf(s)<0&&k.call(n,s)&&(e[s]=n[s]);return e};import{r as a,a as p}from"./index.js";import{T as K}from"./TextInput.js";import{t as y}from"./numberHelper.js";import{I as O}from"./InputAdornment.js";import{T as R}from"./Typography.js";const T=()=>({onKeyDown:a.exports.useCallback(t=>{if(t.key==="."){const e=t.target.value.indexOf("."),s=t.target.selectionEnd,i=t.target.value;if(s&&s>0)if(e!==-1&&e<s){const r=i.slice(0,e);t.target.value=r,r.length>10&&(t.target.selectionEnd=10,t.target.selectionStart=10)}else{const r=i.slice(0,s);r.length>10&&(t.target.selectionEnd=10,t.target.selectionStart=10),t.target.value=r}else t.target.value="0"}else t.key==="Backspace"&&t.target.selectionEnd===t.target.value.indexOf(".")+1?(t.target.selectionEnd=t.target.value.indexOf("."),t.target.selectionStart=t.target.value.indexOf(".")):t.key==="Backspace"&&t.target.selectionEnd===1&&(t.target.selectionEnd=-1,t.target.selectionStart=0)},[])}),B=(n,t)=>{const e=a.exports.useRef(null);return a.exports.useEffect(()=>{const s=e.current;s&&s.setSelectionRange(t,t)},[e,t,n]),{inputRef:e}},P=()=>({getValue:a.exports.useCallback(t=>{const e=t.replace(/[^\d.]/g,"");let s=e;return e!==""&&e!=="."?s=y(e):e==="."&&(s=y("")),s},[])}),q=r=>{var f=r,{name:n,value:t,onChange:e,InputProps:s}=f,i=v(f,["name","value","onChange","InputProps"]);const[E,S]=a.exports.useState(null),{onKeyDown:h}=T(),{inputRef:b}=B(t,E),{getValue:g}=P(),d=a.exports.useCallback((o,C)=>{e(c(l({},o),{target:c(l({},o.target),{name:n,value:C})}))},[e,n]),w=a.exports.useCallback(o=>{S(Number(o.target.selectionEnd)),d(o,g(o.target.value))},[d,g]);return p(K,c(l({},i),{inputRef:b,value:g(t||""),onChange:w,onKeyDown:h,InputProps:c(l({},s),{startAdornment:t!==""&&p(O,{sx:{p:0,m:0},position:"start",children:p(R,{component:"span",color:"black",children:"B/."})})})}))};export{q as M};
