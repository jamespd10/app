import{r as m,a as N,j as b}from"./index.js";import{f}from"./string.helper.js";import{u as g,e as x}from"./array.js";import{s as e}from"./formulario.module.js";import{a as d}from"./itbmsSchema.js";import"./regex.js";import"./upperFirst.js";import"./Lazy.js";const M=({i:r})=>{const{fetcher:c}=m.exports.useContext(d),[,,t]=c,{control:p}=g(),o=x({control:p,name:`negocios.${r}`}),a=m.exports.useMemo(()=>{if(o){const i=o.retenciones.map(s=>Number(s.valor)).reduce((s,l)=>s+l),u=Number(o.compra_10)*.1+Number(o.compra_15)*.15+Number(o.compra_7)*.07+Number(o.compra_import)+i,n=Number(o.venta_7)*.07+Number(o.venta_10)*.1+Number(o.venta_15)*.15-u;return t&&t.negocios.length>0&&t.negocios[r]&&Number(t.negocios[r].total)<0?n-Number(t.negocios[r].total):n}return 0},[t,o,r]);return N("div",{className:`${e.paper} ${a<0?e.paperTotalError:e.paperTotal}`,children:b("span",{className:`${e.total} ${a<0?e.totalError:""}`,children:["Total de ",a>=0?"itbms a pagar: ":"cr\xE9dito: ",f(a)]})})};export{M as default};
