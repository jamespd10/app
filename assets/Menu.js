import{r as i,c as A,B as de,x as W,E as re,a as K,_ as w,h as se,k as ie,l as H,u as ae,n as le,y as Z,w as he,e as j,N as me,O as ge}from"./index.js";import"./react-is.production.min.js";import{g as ve,M as Pe}from"./Modal.js";import{P as ce}from"./Paper.js";import{G as xe}from"./Grow.js";import{a as ye}from"./List.js";const Me=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function _(t,e,o){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:o?null:t.firstChild}function ee(t,e,o){return t===e?o?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:o?null:t.lastChild}function ue(t,e){if(e===void 0)return!0;let o=t.innerText;return o===void 0&&(o=t.textContent),o=o.trim().toLowerCase(),o.length===0?!1:e.repeating?o[0]===e.keys[0]:o.indexOf(e.keys.join(""))===0}function $(t,e,o,v,y,d){let h=!1,c=y(t,e,e?o:!1);for(;c;){if(c===t.firstChild){if(h)return!1;h=!0}const u=v?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!ue(c,d)||u)c=y(t,c,o);else return c.focus(),!0}return!1}const be=i.exports.forwardRef(function(e,o){const{actions:v,autoFocus:y=!1,autoFocusItem:d=!1,children:h,className:c,disabledItemsFocusable:u=!1,disableListWrap:C=!1,onKeyDown:D,variant:k="selectedMenu"}=e,O=A(e,Me),r=i.exports.useRef(null),P=i.exports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});de(()=>{y&&r.current.focus()},[y]),i.exports.useImperativeHandle(v,()=>({adjustStyleForScrollbar:(n,a)=>{const p=!r.current.style.width;if(n.clientHeight<r.current.clientHeight&&p){const f=`${ve(W(n))}px`;r.current.style[a.direction==="rtl"?"paddingLeft":"paddingRight"]=f,r.current.style.width=`calc(100% + ${f})`}return r.current}}),[]);const E=n=>{const a=r.current,p=n.key,f=W(a).activeElement;if(p==="ArrowDown")n.preventDefault(),$(a,f,C,u,_);else if(p==="ArrowUp")n.preventDefault(),$(a,f,C,u,ee);else if(p==="Home")n.preventDefault(),$(a,null,C,u,_);else if(p==="End")n.preventDefault(),$(a,null,C,u,ee);else if(p.length===1){const l=P.current,F=p.toLowerCase(),R=performance.now();l.keys.length>0&&(R-l.lastTime>500?(l.keys=[],l.repeating=!0,l.previousKeyMatched=!0):l.repeating&&F!==l.keys[0]&&(l.repeating=!1)),l.lastTime=R,l.keys.push(F);const m=f&&!l.repeating&&ue(f,l);l.previousKeyMatched&&(m||$(a,f,!1,u,_,l))?n.preventDefault():l.previousKeyMatched=!1}D&&D(n)},T=re(r,o);let M=-1;i.exports.Children.forEach(h,(n,a)=>{!i.exports.isValidElement(n)||n.props.disabled||(k==="selectedMenu"&&n.props.selected||M===-1)&&(M=a)});const I=i.exports.Children.map(h,(n,a)=>{if(a===M){const p={};return d&&(p.autoFocus=!0),n.props.tabIndex===void 0&&k==="selectedMenu"&&(p.tabIndex=0),i.exports.cloneElement(n,p)}return n});return K(ye,w({role:"menu",ref:T,className:c,onKeyDown:E,tabIndex:y?0:-1},O,{children:I}))});var we=be;function Re(t){return se("MuiPopover",t)}ie("MuiPopover",["root","paper"]);const Ce=["onEntering"],Ee=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function te(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.height/2:e==="bottom"&&(o=t.height),o}function oe(t,e){let o=0;return typeof e=="number"?o=e:e==="center"?o=t.width/2:e==="right"&&(o=t.width),o}function ne(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function U(t){return typeof t=="function"?t():t}const Te=t=>{const{classes:e}=t;return le({root:["root"],paper:["paper"]},Re,e)},De=H(Pe,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ie=H(ce,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Oe=i.exports.forwardRef(function(e,o){const v=ae({props:e,name:"MuiPopover"}),{action:y,anchorEl:d,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:u="anchorEl",children:C,className:D,container:k,elevation:O=8,marginThreshold:r=16,open:P,PaperProps:E={},transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:M=xe,transitionDuration:I="auto",TransitionProps:{onEntering:n}={}}=v,a=A(v.TransitionProps,Ce),p=A(v,Ee),f=i.exports.useRef(),l=re(f,E.ref),F=w({},v,{anchorOrigin:h,anchorReference:u,elevation:O,marginThreshold:r,PaperProps:E,transformOrigin:T,TransitionComponent:M,transitionDuration:I,TransitionProps:a}),R=Te(F),m=i.exports.useCallback(()=>{if(u==="anchorPosition")return c;const s=U(d),x=(s&&s.nodeType===1?s:W(f.current).body).getBoundingClientRect();return{top:x.top+te(x,h.vertical),left:x.left+oe(x,h.horizontal)}},[d,h.horizontal,h.vertical,c,u]),S=i.exports.useCallback(s=>({vertical:te(s,T.vertical),horizontal:oe(s,T.horizontal)}),[T.horizontal,T.vertical]),G=i.exports.useCallback(s=>{const g={width:s.offsetWidth,height:s.offsetHeight},x=S(g);if(u==="none")return{top:null,left:null,transformOrigin:ne(x)};const V=m();let z=V.top-x.vertical,N=V.left-x.horizontal;const X=z+g.height,Y=N+g.width,q=Z(U(d)),J=q.innerHeight-r,Q=q.innerWidth-r;if(z<r){const b=z-r;z-=b,x.vertical+=b}else if(X>J){const b=X-J;z-=b,x.vertical+=b}if(N<r){const b=N-r;N-=b,x.horizontal+=b}else if(Y>Q){const b=Y-Q;N-=b,x.horizontal+=b}return{top:`${Math.round(z)}px`,left:`${Math.round(N)}px`,transformOrigin:ne(x)}},[d,u,m,S,r]),L=i.exports.useCallback(()=>{const s=f.current;if(!s)return;const g=G(s);g.top!==null&&(s.style.top=g.top),g.left!==null&&(s.style.left=g.left),s.style.transformOrigin=g.transformOrigin},[G]),pe=(s,g)=>{n&&n(s,g),L()};i.exports.useEffect(()=>{P&&L()}),i.exports.useImperativeHandle(y,()=>P?{updatePosition:()=>{L()}}:null,[P,L]),i.exports.useEffect(()=>{if(!P)return;const s=he(()=>{L()}),g=Z(d);return g.addEventListener("resize",s),()=>{s.clear(),g.removeEventListener("resize",s)}},[d,P,L]);let B=I;I==="auto"&&!M.muiSupportAuto&&(B=void 0);const fe=k||(d?W(U(d)).body:void 0);return K(De,w({BackdropProps:{invisible:!0},className:j(R.root,D),container:fe,open:P,ref:o,ownerState:F},p,{children:K(M,w({appear:!0,in:P,onEntering:pe,timeout:B},a,{children:K(Ie,w({elevation:O},E,{ref:l,className:j(R.paper,E.className),children:C}))}))}))});var Fe=Oe;function Se(t){return se("MuiMenu",t)}ie("MuiMenu",["root","paper","list"]);const ke=["onEntering"],Le=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],ze={vertical:"top",horizontal:"right"},Ne={vertical:"top",horizontal:"left"},Ke=t=>{const{classes:e}=t;return le({root:["root"],paper:["paper"],list:["list"]},Se,e)},$e=H(Fe,{shouldForwardProp:t=>me(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Ae=H(ce,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),He=H(we,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),We=i.exports.forwardRef(function(e,o){const v=ae({props:e,name:"MuiMenu"}),{autoFocus:y=!0,children:d,disableAutoFocusItem:h=!1,MenuListProps:c={},onClose:u,open:C,PaperProps:D={},PopoverClasses:k,transitionDuration:O="auto",TransitionProps:{onEntering:r}={},variant:P="selectedMenu"}=v,E=A(v.TransitionProps,ke),T=A(v,Le),M=ge(),I=M.direction==="rtl",n=w({},v,{autoFocus:y,disableAutoFocusItem:h,MenuListProps:c,onEntering:r,PaperProps:D,transitionDuration:O,TransitionProps:E,variant:P}),a=Ke(n),p=y&&!h&&C,f=i.exports.useRef(null),l=(m,S)=>{f.current&&f.current.adjustStyleForScrollbar(m,M),r&&r(m,S)},F=m=>{m.key==="Tab"&&(m.preventDefault(),u&&u(m,"tabKeyDown"))};let R=-1;return i.exports.Children.map(d,(m,S)=>{!i.exports.isValidElement(m)||m.props.disabled||(P==="selectedMenu"&&m.props.selected||R===-1)&&(R=S)}),K($e,w({classes:k,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?ze:Ne,PaperProps:w({component:Ae},D,{classes:w({},D.classes,{root:a.paper})}),className:a.root,open:C,ref:o,transitionDuration:O,TransitionProps:w({onEntering:l},E),ownerState:n},T,{children:K(He,w({onKeyDown:F,actions:f,autoFocus:y&&(R===-1||h),autoFocusItem:p,variant:P},c,{className:j(a.list,c.className),children:d}))}))});var Xe=We;export{Xe as M,Fe as P};
