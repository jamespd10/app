var k=Object.defineProperty,V=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var _=(a,t,o)=>t in a?k(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,i=(a,t)=>{for(var o in t||(t={}))N.call(t,o)&&_(a,o,t[o]);if(S)for(var o of S(t))T.call(t,o)&&_(a,o,t[o]);return a},d=(a,t)=>V(a,A(t));import{r as s,av as U,aA as B,a as r,b as D}from"./index.js";import{L as F,a as H}from"./LastItbmsProvider.js";import{L as M}from"./Loader.js";import"./BootstrapTooltip.js";import"./SpeedDial.module.js";import"./Modal.js";import"./SelectedCard.js";import{u as W}from"./useStepper.js";import{s as q}from"./agregarSchema.js";import{b as w}from"./yup.module.js";const G=s.exports.createContext({}),J=({children:a})=>{var p,f;const{id:t,cliente:o}=U(),[e,L,R]=B(`itbms-${t}-${o}`),[I,n]=s.exports.useContext(F),m=q,{activeStep:P,form:c,handleBack:z,handleNextStep:E,isLoading:j,res:l,modalState:y,setHide:C,handleSubmit:O,modalError:$}=W({schema:m,fields:[{names:Object.keys(m.fields)}],url:`/admin/negocios/${t}/${o}/add-itbms`,defaultValues:d(i({},e),{retenciones:(p=e==null?void 0:e.retenciones)!=null?p:[{texto:"",valor:""}],gastos:(f=e==null?void 0:e.gastos)!=null?f:[{texto:"",valor:"",nombre:"",ruc:"",dv:""}]})}),u=w({control:c.control});return s.exports.useEffect(()=>{(()=>L(u))()},[u]),s.exports.useEffect(()=>{(()=>{(l==null?void 0:l.status)===201&&R()})()},[l]),s.exports.useEffect(()=>{(()=>{var v,x,h,g;n&&c.reset(d(i({},e),{retenciones:(v=e==null?void 0:e.retenciones)!=null?v:[{texto:"",valor:""}],gastos:(x=e==null?void 0:e.gastos)!=null?x:[{texto:"",valor:"",nombre:"",ruc:"",dv:""}],acumulado:((h=e==null?void 0:e.acumulado)!=null?h:n.itbms&&Number(n.itbms.total)<=0)?(g=n.itbms)==null?void 0:g.total:void 0}))})()},[n,I]),r(G.Provider,{value:{activeStep:P,form:c,handleBack:z,handleNextStep:E,isLoading:j,res:l,modalState:y,setHide:C,handleSubmit:O,modalError:$},children:a})},K=s.exports.lazy(()=>D(()=>import("./FormRealizar.js"),["assets/FormRealizar.js","assets/index.js","assets/index17.css","assets/StepperForm.js","assets/BootstrapTooltip.js","assets/Tooltip.js","assets/Popper.js","assets/Portal.js","assets/useIsFocusVisible.js","assets/isHostComponent.js","assets/Grow.js","assets/useControlled.js","assets/useId.js","assets/Grid.js","assets/Typography.js","assets/SpeedDial.module.js","assets/SpeedDial.module.css","assets/SelectedCard.js","assets/ButtonBase.js","assets/emotion-react.browser.esm.js","assets/Modal.js","assets/Close2.js","assets/jsx-runtime_commonjs-proxy.js","assets/createSvgIcon.js","assets/DialogTitle.js","assets/dialogTitleClasses.js","assets/ModalTransition.js","assets/Backdrop.js","assets/Fade.js","assets/Modal2.js","assets/Paper.js","assets/IconButton.js","assets/Warning.js","assets/Error.js","assets/CheckCircle.js","assets/DialogContent.js","assets/DialogActions.js","assets/LoadingButton.js","assets/Button.js","assets/CircularProgress.js","assets/Box.js","assets/HeaderTitle.js","assets/Divider.js","assets/Loader.js","assets/yup.module.js","assets/LastItbmsProvider.js","assets/useFetcherEarly.js","assets/useStepper.js","assets/useFetch.js","assets/useHttpService.js","assets/useModal.js","assets/agregarSchema.js","assets/regex.js","assets/array.js","assets/Lazy.js"])),Q=()=>r(H,{children:r(J,{children:r(s.exports.Suspense,{fallback:r(M,{}),children:r(K,{})})})});var ce=Object.freeze(Object.defineProperty({__proto__:null,default:Q},Symbol.toStringTag,{value:"Module"}));export{G as R,ce as i};
