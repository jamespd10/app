var g=Object.defineProperty,h=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var u=(r,t,o)=>t in r?g(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,c=(r,t)=>{for(var o in t||(t={}))P.call(t,o)&&u(r,o,t[o]);if(f)for(var o of f(t))A.call(t,o)&&u(r,o,t[o]);return r},x=(r,t)=>h(r,F(t));import{S}from"./StyledSpeedDial.js";import{d as _}from"./Print.js";import{u as D}from"./usePrint.js";import{d as M}from"./WorkspacePremium.js";import{r as s,a,f as R,j as $,F as b}from"./index.js";import{C as d,b as j,M as v,a as y}from"./index14.js";import{F as z,a as I}from"./Formularios.js";import{s as N}from"./formularios.module.js";import"./Assignment.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./useControlled.js";import"./useIsFocusVisible.js";import"./FabButtonAction.js";import"./react-is.production.min.js";import"./AssignmentRounded.js";import"./ButtonBase.js";import"./emotion-react.browser.esm.js";import"./Tooltip.js";import"./Popper.js";import"./Portal.js";import"./isHostComponent.js";import"./Grow.js";import"./SpeedDial.module.js";import"./Backdrop.js";import"./Fade.js";import"./Stack.js";import"./Typography.js";import"./index23.js";import"./HeaderTitle.js";import"./Divider.js";import"./Loader.js";import"./Grid.js";import"./CircularProgress.js";import"./useLocalStorage.js";import"./yup.module.js";import"./regex.js";import"./array.js";import"./upperFirst.js";const k=({valRef:r})=>{const{pagination:t}=s.exports.useContext(d),{selected:o}=t;return a("div",{className:N.divHidden,children:a("div",{ref:r,children:o.map((e,n)=>a(z,{data:e,children:a(I,{})},`${e.id}-${n+1}`))})})},w=()=>{const{pagination:r}=s.exports.useContext(d),{fetcher:t,selected:o}=r,[,,e,,n]=t,[,m]=R();return{onAfterPrint:()=>{const p=[...e.resultados.map(i=>o.findIndex(C=>Number(C.id)===Number(i.id))!==-1?x(c({},i),{fecha_impresion:new Date}):c({},i))];n({paginas:e.paginas,resultados:p}),m("/admin/certificaciones-ingresos/1",{method:"PATCH",data:{field:"certificaciones_ingresos.fecha_impresion",value:new Date,ids:o.map(i=>i.id)}})}}},_t=()=>{const{pagination:r}=s.exports.useContext(d),{selected:t}=r,{modalRealizar:o}=s.exports.useContext(j),[,e]=o,{onAfterPrint:n}=w(),[m,l]=D({pageStyle:"@page { margin: 0 !important; }",onAfterPrint:n}),[,p]=s.exports.useContext(v),{cpa:i}=s.exports.useContext(y);return $(b,{children:[a(S,{acciones:[{icon:M,onClick:()=>e(!0),title:"Realizar certificaci\xF3n"},...t.length!==0?[{icon:_,onClick:i?l:()=>p(!0),title:"Imprimir"}]:[]]}),a(k,{valRef:m})]})};export{_t as default};
