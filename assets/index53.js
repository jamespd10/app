var I=Object.defineProperty,j=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var F=(t,r,o)=>r in t?I(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,i=(t,r)=>{for(var o in r||(r={}))S.call(r,o)&&F(t,o,r[o]);if(m)for(var o of m(r))_.call(r,o)&&F(t,o,r[o]);return t},p=(t,r)=>j(t,T(r));var C=(t,r)=>{var o={};for(var e in t)S.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&m)for(var e of m(t))r.indexOf(e)<0&&_.call(t,e)&&(o[e]=t[e]);return o};import{r as u,a,j as P}from"./index.js";import{M as b}from"./Modal2.js";import{u as k}from"./useFetcher.js";import{c as B,a as L,f as N,o as O,F as R,u as A}from"./array.js";import{p as $}from"./regex.js";import{u as q}from"./useModal.js";import"./jwt-decode.esm.js";import{P as w}from"./PatronalInput.js";import{S as G}from"./Stack.js";import{A as V}from"./Alert.js";import"./Close2.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./useControlled.js";import"./useIsFocusVisible.js";import"./DialogTitle.js";import"./Backdrop.js";import"./Modal.js";import"./isHostComponent.js";import"./Portal.js";import"./Paper.js";import"./Typography.js";import"./extendSxProp.js";import"./IconButton.js";import"./ButtonBase.js";import"./Error.js";import"./Button.js";import"./useService.js";import"./constants.js";import"./upperFirst.js";import"./TextInput.js";import"./TextField.js";import"./react-is.production.min.js";import"./Menu.js";import"./Grow.js";import"./List.js";import"./GlobalStyles.js";import"./CustomSipe.js";import"./index7.js";import"./Close.js";const W=B().shape({patronal_sipe:L().typeError("Favor ingresar el n\xFAmero patronal").trim().matches($,"Favor usar el siguiente formato: ##-###-#####").required("Favor de ingresar el n\xFAmero patronal")}),f=u.exports.createContext({}),z=o=>{var e=o,{children:t}=e,r=C(e,["children"]);const l=q(),c=N({mode:"all",resolver:O(W),defaultValues:{patronal_sipe:r.patronal}});return a(f.Provider,{value:p(i({},r),{modal:l}),children:a(R,p(i({},c),{children:t}))})},D=()=>{var e;const{register:t,formState:r}=A(),{errors:o}=r;return a(w,p(i({label:"Patronal SIPE",fullWidth:!0,sipe:!0},t("patronal_sipe")),{error:!!o.patronal_sipe,helperText:(e=o.patronal_sipe)==null?void 0:e.message}))},J=()=>{const{modal:t,patronal:r,negocio:o,multer:e}=u.exports.useContext(f),l=k(),[c,y,n,s,,h]=l,E=A(),{reset:v,handleSubmit:M}=E,{modalState:H,setHide:x}=t,g=()=>{x(),h(),v({patronal_sipe:r})};return a(b,{title:"Editar Patronal SIPE",type:"NORMAL",state:H,setHide:g,cancelBotton:{text:"Cerrar",actionFunction:g},actionButton:{text:"Guardar",isLoading:c,actionFunction:M(async d=>{(await y(`/admin/supervalidados/negocios/${o}`,{method:"PATCH",data:{field:"negocios.patronal_sipe",value:d.patronal_sipe}})).data&&(e(d),v(i({},d)),x(),h())})},children:P(G,{spacing:1,direction:"column",children:[n||s?a(V,{variant:"outlined",severity:n&&!s?"success":"error",children:(n==null?void 0:n.message)||(s==null?void 0:s.message)}):null,a(D,{})]})})},K="_divPatronal_1o6ip_1";var Q={divPatronal:K};const U=()=>{const{patronal:t,modal:r}=u.exports.useContext(f),{setOpen:o}=r;return P("div",{className:Q.divPatronal,onClick:()=>o(),children:[a("strong",{children:"Patronal SIPE:"})," ",a("span",{children:t})]})},$t=t=>P(z,p(i({},t),{children:[a(J,{}),a(U,{})]}));export{$t as default};
