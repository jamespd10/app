import{r as c,a as b,j as N}from"./index.js";import{f}from"./string.helper.js";import{u as d,e as x}from"./array.js";import{s as r}from"./formulario.module.js";import{a as _}from"./itbmsSchema.js";import"./regex.js";import"./upperFirst.js";import"./Lazy.js";const M=()=>{const{fetcher:p}=c.exports.useContext(_),[,,o]=p,{control:l}=d(),e=x({control:l,name:"negocios"}),a=c.exports.useMemo(()=>{if(e&&e.length!==0){const n=e.map(t=>{const s=t.retenciones.map(m=>Number(m.valor)).reduce((m,i)=>m+i),u=Number(t.compra_10)*.1+Number(t.compra_15)*.15+Number(t.compra_7)*.07+Number(t.compra_import)+s;return Number(t.venta_7)*.07+Number(t.venta_10)*.1+Number(t.venta_15)*.15-u}).reduce((t,s)=>t+s);return o&&Number(o.total)<0?n-Number(o.total):n}return 0},[o,e]);return b("div",{className:`${r.paper} ${a<0?r.paperTotalError:r.paperTotalAll}`,children:N("span",{className:`${r.totalAll} ${a<0?r.totalError:""}`,children:["Total de ",a>=0?"itbms a pagar: ":"cr\xE9dito: ",f(a)]})})};export{M as default};
