var g=Object.defineProperty,_=Object.defineProperties;var f=Object.getOwnPropertyDescriptors;var s=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var c=(i,a,l)=>a in i?g(i,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[a]=l,u=(i,a)=>{for(var l in a||(a={}))y.call(a,l)&&c(i,l,a[l]);if(s)for(var l of s(a))v.call(a,l)&&c(i,l,a[l]);return i},d=(i,a)=>_(i,f(a));import{H as h}from"./HeaderTitle.js";import{u as F,D as C,a as T,b as S}from"./useDataGrid.js";import{f as m}from"./string.helper.js";import{r as w,a as n,F as p,j as O}from"./index.js";import{u as P}from"./useFetch.js";import"./jwt-decode.esm.js";import"./Typography.js";import"./extendSxProp.js";import"./Divider.js";import"./TextInput.js";import"./TextField.js";import"./useControlled.js";import"./react-is.production.min.js";import"./Menu.js";import"./Modal.js";import"./Backdrop.js";import"./isHostComponent.js";import"./Portal.js";import"./Paper.js";import"./Grow.js";import"./List.js";import"./createSvgIcon.js";import"./GlobalStyles.js";import"./Search.js";import"./jsx-runtime_commonjs-proxy.js";import"./useIsFocusVisible.js";import"./Clear.js";import"./Box.js";import"./InputAdornment.js";import"./IconButton.js";import"./ButtonBase.js";import"./useList.js";import"./tslib.js";import"./Button.js";import"./MenuItem.js";import"./listItemIconClasses.js";import"./listItemTextClasses.js";import"./Checkbox.js";import"./Close2.js";import"./ListItem.js";import"./listItemButtonClasses.js";import"./Stack.js";import"./Add.js";import"./SkipNextOutlined.js";import"./Autocomplete.js";import"./Close.js";import"./Tooltip.js";import"./appendOwnerState.js";import"./Chip.js";import"./Pagination.js";import"./useMediaQuery.js";import"./useComponentVisible.js";import"./CheckBoxOutlineBlank.js";import"./AutocompleteServer.js";import"./ChipState.js";import"./Error.js";import"./CustomDecimal.js";import"./react-number-format.es.js";import"./CustomSipe.js";import"./index7.js";import"./useAsyncRetry.js";import"./useHttpService.js";import"./constants.js";import"./regex.js";const x=[{column:"rutas.iniciales",label:"Ruta",type:"string"},{column:"negocios.recorrido",label:"Recorrido",type:"number"},{column:"negocios.n_patronal",label:"N. patronal",type:"string"},{column:"negocios.patronal_sipe",label:"P. SIPE",type:"string"},{column:"negocios.tipo_pagos",label:"Per\xEDodo",type:"enum",valueOptions:[{label:"Mensual",value:"mensual"},{label:"Trimestral",value:"trimestral"}]},{column:"negocios.serv_conta",label:"S. Conta.",type:"number"},{column:"negocios.formulario_compra",label:"F. Compra",type:"number"},{column:"negocios.formulario_venta",label:"F. Venta",type:"number"},{column:"negocios.cargo_al",label:"Cargo A.L.",type:"number"},{column:"negocios.formulario_03",label:"Form. 03",type:"number"},{column:"negocios.form_reten_itbms",label:"F. R. ITBMS",type:"number"},{column:"negocios.cerrado",label:"Operando",type:"boolean",valueOptions:[{label:"Operando",value:0},{label:"Cerrado",value:1}]},{column:"negocios.super_validado",label:"Super validado",type:"boolean",valueOptions:[{label:"Valdiado",value:1},{label:"No validado",value:0}]}],R=[{name:"negocios.recorrido",label:"Recorrido"},{name:"tiponegocios.tipo",label:"Tipo"},{name:"negocios.nombre_negocio",label:"Nombre"},{name:"clientes.ruc",label:"RUC"},{name:"rutas.ruta",label:"Ruta"},{name:"negocios.patronal_sipe",label:"P. SIPE"},{name:"negocios.tipo_pagos",label:"Per\xEDodo"},{name:"negocios.serv_conta",label:"S. CONTA"},{name:"negocios.formulario_compra",label:"F. Compra"},{name:"negocios.formulario_venta",label:"F. Venta"},{name:"negocios.cargo_al",label:"Cargo A.L."},{name:"negocios.formulario_03",label:"Form. 03"},{name:"negocios.form_reten_itbms",label:"F. R. ITBMS"},{name:"negocios.cerrado",label:"Operando"},{name:"negocios.super_validado",label:"Super validado"}],t={textAlign:"center"},N=()=>{const i=F(),{data:a}=i,{send:l}=P(),r=w.exports.useCallback((o,e,b)=>l({url:`/admin/supervalidados/negocios/${b}`,method:"PATCH",data:{field:o,value:e}}),[]);return n(p,{children:n(C,{toolbar:n(p,{children:"Lista de negocios a validar"}),enableHidden:!0,enableSearch:!0,columnsFilter:x,sortFields:R,columns:[{name:"recorrido",label:"Recorrido",width:50,style:t,editable:{type:"text",func:(o,e)=>r("negocios.recorrido",o,e)}},{name:"tipo",label:"Tipo",width:200,editable:{type:"autocomplete",func:(o,e)=>r("negocios.id_tipo",o.id,e),autocomplete:{valueKey:"tipo",url:"/admin/negocios/tipos",isOptionEqualToValue:(o,e)=>o.id===e.id,getOptionLabel:o=>o.tipo,labels:["tipo"]}}},{name:"nombre_negocio",label:"Nombre",editable:{type:"text",func:(o,e)=>r("negocios.nombre_negocio",o,e)}},{name:"ruc",label:"Ruc",width:150},{name:"ruta",label:"Ruta",width:50,style:t,editable:{type:"autocomplete",func:(o,e)=>r("negocios.id_ruta",o.id,e),autocomplete:{disableCheck:!0,valueKey:"iniciales",dataKey:"iniciales",url:"/admin/rutas",isOptionEqualToValue:(o,e)=>o.id===e.id,getOptionLabel:o=>o.iniciales,labels:["iniciales"]}}},{name:"patronal_sipe",label:"P. SIPE",editable:{type:"sipe",func:(o,e)=>r("negocios.patronal_sipe",o,e)}},{name:"tipo_pagos",label:"Per\xEDodo",width:200,style:t,editable:{type:"selection",selection:[{label:"Mensual",value:"Mensual"},{label:"Trimestral",value:"Trimestral"}],func:(o,e)=>r("negocios.tipo_pagos",o,e)}},{name:"serv_conta",label:"S. CONTA",width:200,style:t,editable:{type:"money",func:(o,e)=>r("negocios.serv_conta",o,e)}},{name:"formulario_compra",label:"F. Compra",width:200,style:t,editable:{type:"money",func:(o,e)=>r("negocios.formulario_compra",o,e)}},{name:"formulario_venta",label:"F. Venta",width:200,style:t,editable:{type:"money",func:(o,e)=>r("negocios.formulario_venta",o,e)}},{name:"cargo_al",label:"Cargo A.L.",width:200,style:t,editable:{type:"money",func:(o,e)=>r("negocios.cargo_al",o,e)}},{name:"formulario_03",label:"Form. 03",width:200,style:t,editable:{type:"money",func:(o,e)=>r("negocios.formulario_03",o,e)}},{name:"form_reten_itbms",label:"F. R. ITBMS",width:200,style:t,editable:{type:"money",func:(o,e)=>r("negocios.form_reten_itbms",o,e)}},{name:"total_planillas",label:"N. Planillas",width:50,style:t},{name:"cerrado",label:"Operando",editable:{type:"state",states:[{label:"Operando",value:0,color:"success"},{label:"Cerrado",value:1,color:"error"}],func:(o,e)=>r("negocios.cerrado",o,e)}},{name:"super_validado",label:"Super validado",editable:{type:"state",states:[{label:"Validado",value:1,color:"success"},{label:"No validado",value:0,color:"error"}],func:(o,e)=>r("negocios.super_validado",o,e)}}],rows:a.map(o=>({id:o.id,recorrido:o.recorrido,tipo:o.tipo,nombre_negocio:o.nombre_negocio,ruc:o.ruc,ruta:o.iniciales,patronal_sipe:o.patronal_sipe,tipo_pagos:o.tipo_pagos,serv_conta:m(o.serv_conta),formulario_compra:m(o.formulario_compra),formulario_venta:m(o.formulario_venta),cargo_al:m(o.cargo_al),formulario_03:m(o.formulario_03),form_reten_itbms:m(o.form_reten_itbms),total_planillas:o.total_planillas,cerrado:o.cerrado,super_validado:o.super_validado}))})})},ko=()=>{const i=T({url:"/admin/supervalidados/negocios",rowKey:"id"});return O(p,{children:[n(h,{message:"Negocios"}),n("div",{style:{marginTop:10},children:n(S,d(u({},i),{children:n(N,{})}))})]})};export{ko as default};
