var P=Object.defineProperty,k=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var S=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var v=(o,e,i)=>e in o?P(o,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[e]=i,d=(o,e)=>{for(var i in e||(e={}))R.call(e,i)&&v(o,i,e[i]);if(S)for(var i of S(e))j.call(e,i)&&v(o,i,e[i]);return o},c=(o,e)=>k(o,D(e));import{r as a,aw as x,b as q,j as M,F as A,a as n}from"./index.js";import{L as F}from"./index25.js";import{a as L}from"./FormLiquidacionProvider.js";import{D as T}from"./DialogActions.js";import{L as _}from"./LoadingButton.js";import"./HeaderTitle.js";import"./Typography.js";import"./Divider.js";import"./Loader.js";import"./Grid.js";import"./CircularProgress.js";import"./emotion-react.browser.esm.js";import"./useForm.js";import"./object.helper.js";import"./regex.js";import"./array.js";import"./upperFirst.js";import"./usePrint.js";import"./index23.js";import"./Button.js";import"./ButtonBase.js";import"./useIsFocusVisible.js";import"./useControlled.js";const z=()=>{const{pagination:o}=a.exports.useContext(F),{fetcher:e}=o,[,,i,,r]=e,{form:s,fetcher:p,negocio:t,printer:m}=a.exports.useContext(L),[,l]=p,{onFormSubmit:u}=s,[h,w]=m;return{onFormSubmit:u,handleSubmit:(y,f)=>{l("/admin/liquidaciones",{method:"POST",data:c(d({},y),{fecha_enviado:f})}).then(b=>{if(b.data){const C=(i==null?void 0:i.resultados)||[];C.unshift(c(d({},y),{id:b.data.id,tipo:(t==null?void 0:t.tipo)||"",nombre_negocio:(t==null?void 0:t.nombre_negocio)||"",fecha_creacion:x(new Date,"yyyy-MM-dd hh:mm:ss"),id_cliente:(t==null?void 0:t.id_cliente)||0,nom_cliente:(t==null?void 0:t.nom_cliente)||"",ruc:(t==null?void 0:t.ruc)||"",ruta:(t==null?void 0:t.ruta)||"",fecha_enviado:f?x(new Date,"yyyy-MM-dd hh:mm:ss"):null})),r({paginas:(i==null?void 0:i.paginas)||1,resultados:C}),f&&w()}})},divRef:h}},E=a.exports.lazy(()=>q(()=>import("./index70.js").then(function(o){return o.i}),["assets/index70.js","assets/index16.css","assets/index.js","assets/index2.css"])),mt=()=>{const{modalRealizar:o}=a.exports.useContext(F),{fetcher:e,form:i,negocio:r}=a.exports.useContext(L),{onFormSubmit:s,formState:p}=i,[t]=e,{handleSubmit:m,divRef:l}=z(),[,u]=o;return M(A,{children:[M(T,{children:[n(_,{variant:"outlined",color:"inherit",disabled:t,onClick:()=>u(!1),children:"Cerrar"}),n(_,{variant:"outlined",color:"primary",loading:t,onClick:()=>s(m),children:"Guardar"}),n(_,{variant:"outlined",color:"error",loading:t,onClick:()=>s(h=>m(h,x(new Date,"yyyy-MM-dd hh:mm:ss"))),children:"Guardar e imprimir"})]}),n(a.exports.Suspense,{fallback:n("div",{}),children:n(E,{list:[c(d({},p),{tipo:(r==null?void 0:r.tipo)||"",nombre_negocio:(r==null?void 0:r.nombre_negocio)||"",fecha_creacion:"",id_cliente:(r==null?void 0:r.id_cliente)||0,nom_cliente:(r==null?void 0:r.nom_cliente)||"",ruc:(r==null?void 0:r.ruc)||"",ruta:(r==null?void 0:r.ruta)||"",fecha_enviado:""})],divRef:l})})]})};export{mt as default};
