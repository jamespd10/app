import{s as N}from"./formularios.module.js";import{j as d,r as a,aw as f,a as u,F as S}from"./index.js";import{a as g}from"./index14.js";import{b as v}from"./string.helper.js";import{b as A}from"./Formularios.js";const B=({dirigido:e})=>d("div",{className:N.dirigido,children:[e||"A quien concierne",":"]}),V=()=>{const e=a.exports.useMemo(()=>new Date,[]);return d("div",{className:N.fecha,children:["Panam\xE1, ",e.getDate()," de ",f(e,"MMMM")," del"," ",e.getFullYear()]})},_=()=>{const{cpa:e}=a.exports.useContext(g);return d("div",{className:N.firma,children:[u("span",{children:e==null?void 0:e.nombre}),d("span",{children:["C.I.P. ",e==null?void 0:e.cedula]}),d("span",{children:["C.P.A. #",e==null?void 0:e.numero]})]})},H=()=>u("div",{className:N.footer,children:u("span",{children:"Atentamente,"})}),j=({receptor:e,ciudad:r})=>d("div",{className:N.receptor,children:[u("span",{children:"Se\xF1ores"}),u("span",{className:N.textUpperBold,children:e}),u("span",{children:r||"Ciudad.-"})]}),C=e=>{switch(e){case 1:return"UNO";case 2:return"DOS";case 3:return"TRES";case 4:return"CUATRO";case 5:return"CINCO";case 6:return"SEIS";case 7:return"SIETE";case 8:return"OCHO";case 9:return"NUEVE"}return""},E=(e,r)=>r>0?e+" Y "+C(r):e,l=e=>{const r=Math.floor(e/10),t=e-r*10;switch(r){case 1:switch(t){case 0:return"DIEZ";case 1:return"ONCE";case 2:return"DOCE";case 3:return"TRECE";case 4:return"CATORCE";case 5:return"QUINCE";default:return"DIECI"+C(t)}case 2:switch(t){case 0:return"VEINTE";default:return"VEINTI"+C(t)}case 3:return E("TREINTA",t);case 4:return E("CUARENTA",t);case 5:return E("CINCUENTA",t);case 6:return E("SESENTA",t);case 7:return E("SETENTA",t);case 8:return E("OCHENTA",t);case 9:return E("NOVENTA",t);case 0:return C(t)}},h=e=>{const r=Math.floor(e/100),t=e-r*100;switch(r){case 1:return t>0?"CIENTO "+l(t):"CIEN";case 2:return"DOSCIENTOS "+l(t);case 3:return"TRESCIENTOS "+l(t);case 4:return"CUATROCIENTOS "+l(t);case 5:return"QUINIENTOS "+l(t);case 6:return"SEISCIENTOS "+l(t);case 7:return"SETECIENTOS "+l(t);case 8:return"OCHOCIENTOS "+l(t);case 9:return"NOVECIENTOS "+l(t)}return l(t)},O=(e,r,t,s)=>{const n=Math.floor(e/r),c=e-n*r;let i="";return n>0&&(n>1?i=h(n)+" "+s:i=t),c>0&&(i+=""),i},F=e=>{const t=Math.floor(e/1e3),s=e-t*1e3,n=O(e,1e3,"UN MIL","MIL"),c=h(s);return n===""?c:n+" "+c},m=e=>{const t=Math.floor(e/1e6),s=e-t*1e6,n=O(e,1e6,"UN MILLON","MILLONES"),c=F(s);return n===""?c:n+" "+c},b=(e,r,t)=>{const s={numero:e,enteros:Math.floor(Number(e)),centavos:Math.round(Number(e)*100)-Math.floor(Number(e))*100,letrasCentavos:"",letrasMonedaPlural:r&&t?t.plural:r?"BALBOAS":"",letrasMonedaSingular:r&&t?t.singular:r?"BALBOA":"",letrasMonedaCentavoPlural:r&&t?t.centPlural:r?"CENTAVOS":"",letrasMonedaCentavoSingular:r&&t?t.centSingular:r?"CENTAVO":""};return s.centavos>0&&(s.letrasCentavos=s.centavos===1?"CON "+m(s.centavos)+" "+s.letrasMonedaCentavoSingular:"CON "+m(s.centavos)+" "+s.letrasMonedaCentavoPlural),s.enteros===0?"CERO "+s.letrasMonedaPlural+" "+s.letrasCentavos:s.enteros===1?m(s.enteros)+" "+s.letrasMonedaSingular+" "+s.letrasCentavos:m(s.enteros)+" "+s.letrasMonedaPlural+" "+s.letrasCentavos},U=()=>{const e=a.exports.useContext(A),r=a.exports.useMemo(()=>e.genero==="MASCULINO",[e]),t=a.exports.useMemo(()=>e.cliente.tipo!=="Natural",[e]),s=a.exports.useMemo(()=>e.text_negocio?v(e.text_negocio,","):e.negocios.length>1,[e]),n=a.exports.useMemo(()=>s?"s":"",[s]),c=a.exports.useMemo(()=>e.periodos.filter((o,p)=>p!==0),[e]),i=a.exports.useMemo(()=>{var o;return e.actividad?e.actividad.slice(-1)!=="."?".":"":((o=e.negocios[0].actividad)==null?void 0:o.slice(-1))!=="."?".":""},[e]),M=a.exports.useCallback(o=>b(o.split(".")[0]),[]),T=a.exports.useMemo(()=>(Math.round(e.periodos.map(o=>Number(o.ingreso)).reduce((o,p)=>o+p)*100)/100).toFixed(2),[e]),x=a.exports.useMemo(()=>(Math.round(e.periodos.map(o=>Number(o.gasto)).reduce((o,p)=>o+p)*100)/100).toFixed(2),[e]),I=a.exports.useMemo(()=>(Math.round(e.periodos.map(o=>Number(o.total)).reduce((o,p)=>o+p)*100)/100).toFixed(2),[e]);return{data:e,isHombre:r,isSociedad:t,isMoreThanOne:s,strPlural:n,periodosNotFirst:c,actividadLastDot:i,toWord:M,sumIngresos:T,sumGastos:x,sumTotalIngresos:I}},Y=e=>{const{disableLastDot:r,className:t}=e,{data:s}=U(),{negocios:n,text_negocio:c}=s;return u(S,{children:c?u("span",{className:N.textUpperBold,children:c}):n.map((i,M)=>d(a.exports.Fragment,{children:[d("span",{className:t!=null?t:N.textUpperBold,children:[i.tipo," ",i.nombre_negocio]}),r&&s.negocios.length-1===M?".":", "]},i.id))})};export{B as D,V as F,Y as N,j as R,H as a,_ as b,U as u};
