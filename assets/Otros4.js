var F=Object.defineProperty,g=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var x=(o,t,r)=>t in o?F(o,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[t]=r,u=(o,t)=>{for(var r in t||(t={}))N.call(t,r)&&x(o,r,t[r]);if(h)for(var r of h(t))v.call(t,r)&&x(o,r,t[r]);return o},d=(o,t)=>g(o,A(t));import{r as l,a as m,F as S,j as _}from"./index.js";import{T as k}from"./TextDecimalInput.js";import{F as $,s}from"./index78.js";import{A as B}from"./AutocompleteServer.js";import{d as w,a as y}from"./CheckBoxOutlineBlank.js";import{C as j}from"./Checkbox.js";import{B as C}from"./Button.js";import"./TextInput.js";import"./TextField.js";import"./useFormControl.js";import"./useControlled.js";import"./useId.js";import"./formControlState.js";import"./react-is.production.min.js";import"./Modal2.js";import"./Backdrop.js";import"./Fade.js";import"./isHostComponent.js";import"./Portal.js";import"./Paper.js";import"./Grow.js";import"./List.js";import"./createSvgIcon.js";import"./outlinedInputClasses.js";import"./GlobalStyles.js";import"./emotion-react.browser.esm.js";import"./CustomDecimal.js";import"./react-number-format.es.js";import"./string.helper.js";import"./regex.js";import"./BootstrapModal.js";import"./ModalTransition.js";import"./BootstrapDivContent.js";import"./Divider.js";import"./index46.js";import"./HeaderTitle.js";import"./Typography.js";import"./Loader.js";import"./Grid.js";import"./CircularProgress.js";import"./useForm.js";import"./object.helper.js";import"./array.js";import"./useFetch.js";import"./useHttpService.js";import"./Autocomplete.js";import"./Close.js";import"./IconButton.js";import"./ButtonBase.js";import"./useIsFocusVisible.js";import"./Popper.js";import"./Chip.js";import"./jsx-runtime_commonjs-proxy.js";import"./SwitchBase.js";const z="_container_s7pe3_1",R="_title_s7pe3_6",T="_containerAutocomplete_s7pe3_11",I="_montoOption_s7pe3_17";var f={container:z,title:R,containerAutocomplete:T,montoOption:I};const E=({i:o})=>{const{form:t}=l.exports.useContext($),{formState:r,setFormState:b}=t,{otros_cobros:i}=r,p=l.exports.useMemo(()=>i[o].tipo_documento!==""?i[o]:null,[o,i]),[c,O]=l.exports.useState(p);return m(S,{children:m(B,{ref:null,inputProps:{label:"Raz\xF3n social"},disableStyle:!0,enableFirst:!0,value:c,size:"small",fullWidth:!0,onChange:(a,e)=>{O(e);const n=i;e?(n[o].itbms=Boolean(Number(e.itbms)),n[o].monto=e.monto,n[o].tipo_documento=e.tipo_documento):(n[o].itbms=Boolean(Number(1)),n[o].monto="",n[o].tipo_documento=""),b(d(u({},r),{otros_cobros:n}))},isOptionEqualToValue:(a,e)=>a.tipo_documento===e.tipo_documento,urlFetch:"/otros-cobros",getOptionLabel:a=>a.tipo_documento||"",renderOption:(a,e,{selected:n})=>l.exports.createElement("li",d(u({},a),{key:`${e.tipo_documento}-${o}`}),m(j,{icon:m(w,{}),checkedIcon:m(y,{}),checked:n,size:"small"}),_("div",{className:f.containerAutocomplete,children:[e.tipo_documento," (",_("span",{className:f.montoOption,children:["B/. ",e.monto]}),")"]}))})})},Vo=()=>{const{form:o}=l.exports.useContext($),{formState:t,setFormState:r,onInputChange:b}=o,{otros_cobros:i}=t;return _("div",{className:`${s.flexColumn} ${s.flexGrow} ${s.border} ${f.container}`,children:[m("span",{className:`${s.otrosTitle} ${f.title}`,children:"Otros"}),i.map((p,c)=>m(l.exports.Fragment,{children:_("div",{className:s.flexRow,children:[m(E,{i:c}),m(k,{name:`otros_cobros.${c}.monto`,value:p.monto,onChange:b,label:"Monto",size:"small",fullWidth:!0})]})},`otros-cobros-${c+1}`)),_("div",{className:`${s.flexRow} ${s.justifyCenter}`,children:[m(C,{variant:"outlined",color:"primary",onClick:()=>{r(d(u({},t),{otros_cobros:[...i,{itbms:Boolean(Number(1)),monto:"",tipo_documento:""}]}))},children:"Agregar fila"}),i.length>1&&m(C,{variant:"outlined",color:"error",onClick:()=>{const p=i;p.pop(),r(d(u({},t),{otros_cobros:p}))},children:"Remover \xFAltima fila"})]})]})};export{Vo as default};
