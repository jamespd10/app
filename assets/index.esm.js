import{l as Y,O as ee,r as E,_ as te}from"./index.js";import{P as re}from"./Tooltip.js";import{a as ae}from"./Autocomplete.js";import{_ as F}from"./ButtonBase.js";const Se=Y(re)({[`& .${ae.listbox}`]:{boxSizing:"border-box","& ul":{padding:0,margin:0}}});var W=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function ie(n,t){return!!(n===t||W(n)&&W(t))}function ne(n,t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(!ie(n[r],t[r]))return!1;return!0}function P(n,t){t===void 0&&(t=ne);var r,a=[],o,l=!1;function c(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return l&&r===this&&t(d,a)||(o=n.apply(this,d),l=!0,r=this,a=d),o}return c}var oe=typeof performance=="object"&&typeof performance.now=="function",$=oe?function(){return performance.now()}:function(){return Date.now()};function U(n){cancelAnimationFrame(n.id)}function se(n,t){var r=$();function a(){$()-r>=t?n.call(null):o.id=requestAnimationFrame(a)}var o={id:requestAnimationFrame(a)};return o}var x=null;function q(n){if(n===void 0&&(n=!1),x===null||n){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var a=document.createElement("div"),o=a.style;return o.width="100px",o.height="100px",t.appendChild(a),document.body.appendChild(t),t.scrollLeft>0?x="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?x="negative":x="positive-ascending"),document.body.removeChild(t),x}return x}var le=150,ce=function(t,r){return t};function ue(n){var t,r=n.getItemOffset,a=n.getEstimatedTotalSize,o=n.getItemSize,l=n.getOffsetForIndexAndAlignment,c=n.getStartIndexForOffset,d=n.getStopIndexForStartIndex,p=n.initInstanceProps,S=n.shouldResetStyleCacheOnItemSizeChange,y=n.validateProps;return t=function(M){ee(z,M);function z(h){var e;return e=M.call(this,h)||this,e._instanceProps=p(e.props,F(e)),e._outerRef=void 0,e._resetIsScrollingTimeoutId=null,e.state={instance:F(e),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof e.props.initialScrollOffset=="number"?e.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},e._callOnItemsRendered=void 0,e._callOnItemsRendered=P(function(i,s,u,f){return e.props.onItemsRendered({overscanStartIndex:i,overscanStopIndex:s,visibleStartIndex:u,visibleStopIndex:f})}),e._callOnScroll=void 0,e._callOnScroll=P(function(i,s,u){return e.props.onScroll({scrollDirection:i,scrollOffset:s,scrollUpdateWasRequested:u})}),e._getItemStyle=void 0,e._getItemStyle=function(i){var s=e.props,u=s.direction,f=s.itemSize,g=s.layout,m=e._getItemStyleCache(S&&f,S&&g,S&&u),v;if(m.hasOwnProperty(i))v=m[i];else{var I=r(e.props,i,e._instanceProps),T=o(e.props,i,e._instanceProps),O=u==="horizontal"||g==="horizontal",w=u==="rtl",R=O?I:0;m[i]=v={position:"absolute",left:w?void 0:R,right:w?R:void 0,top:O?0:I,height:O?"100%":T,width:O?T:"100%"}}return v},e._getItemStyleCache=void 0,e._getItemStyleCache=P(function(i,s,u){return{}}),e._onScrollHorizontal=function(i){var s=i.currentTarget,u=s.clientWidth,f=s.scrollLeft,g=s.scrollWidth;e.setState(function(m){if(m.scrollOffset===f)return null;var v=e.props.direction,I=f;if(v==="rtl")switch(q()){case"negative":I=-f;break;case"positive-descending":I=g-u-f;break}return I=Math.max(0,Math.min(I,g-u)),{isScrolling:!0,scrollDirection:m.scrollOffset<f?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._onScrollVertical=function(i){var s=i.currentTarget,u=s.clientHeight,f=s.scrollHeight,g=s.scrollTop;e.setState(function(m){if(m.scrollOffset===g)return null;var v=Math.max(0,Math.min(g,f-u));return{isScrolling:!0,scrollDirection:m.scrollOffset<v?"forward":"backward",scrollOffset:v,scrollUpdateWasRequested:!1}},e._resetIsScrollingDebounced)},e._outerRefSetter=function(i){var s=e.props.outerRef;e._outerRef=i,typeof s=="function"?s(i):s!=null&&typeof s=="object"&&s.hasOwnProperty("current")&&(s.current=i)},e._resetIsScrollingDebounced=function(){e._resetIsScrollingTimeoutId!==null&&U(e._resetIsScrollingTimeoutId),e._resetIsScrollingTimeoutId=se(e._resetIsScrolling,le)},e._resetIsScrolling=function(){e._resetIsScrollingTimeoutId=null,e.setState({isScrolling:!1},function(){e._getItemStyleCache(-1,null)})},e}z.getDerivedStateFromProps=function(e,i){return fe(e,i),y(e),null};var _=z.prototype;return _.scrollTo=function(e){e=Math.max(0,e),this.setState(function(i){return i.scrollOffset===e?null:{scrollDirection:i.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},_.scrollToItem=function(e,i){i===void 0&&(i="auto");var s=this.props.itemCount,u=this.state.scrollOffset;e=Math.max(0,Math.min(e,s-1)),this.scrollTo(l(this.props,e,i,u,this._instanceProps))},_.componentDidMount=function(){var e=this.props,i=e.direction,s=e.initialScrollOffset,u=e.layout;if(typeof s=="number"&&this._outerRef!=null){var f=this._outerRef;i==="horizontal"||u==="horizontal"?f.scrollLeft=s:f.scrollTop=s}this._callPropsCallbacks()},_.componentDidUpdate=function(){var e=this.props,i=e.direction,s=e.layout,u=this.state,f=u.scrollOffset,g=u.scrollUpdateWasRequested;if(g&&this._outerRef!=null){var m=this._outerRef;if(i==="horizontal"||s==="horizontal")if(i==="rtl")switch(q()){case"negative":m.scrollLeft=-f;break;case"positive-ascending":m.scrollLeft=f;break;default:var v=m.clientWidth,I=m.scrollWidth;m.scrollLeft=I-v-f;break}else m.scrollLeft=f;else m.scrollTop=f}this._callPropsCallbacks()},_.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&U(this._resetIsScrollingTimeoutId)},_.render=function(){var e=this.props,i=e.children,s=e.className,u=e.direction,f=e.height,g=e.innerRef,m=e.innerElementType,v=e.innerTagName,I=e.itemCount,T=e.itemData,O=e.itemKey,w=O===void 0?ce:O,R=e.layout,V=e.outerElementType,B=e.outerTagName,j=e.style,G=e.useIsScrolling,Z=e.width,L=this.state.isScrolling,N=u==="horizontal"||R==="horizontal",J=N?this._onScrollHorizontal:this._onScrollVertical,D=this._getRangeToRender(),Q=D[0],X=D[1],k=[];if(I>0)for(var b=Q;b<=X;b++)k.push(E.exports.createElement(i,{data:T,key:w(b,T),index:b,isScrolling:G?L:void 0,style:this._getItemStyle(b)}));var A=a(this.props,this._instanceProps);return E.exports.createElement(V||B||"div",{className:s,onScroll:J,ref:this._outerRefSetter,style:te({position:"relative",height:f,width:Z,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:u},j)},E.exports.createElement(m||v||"div",{children:k,ref:g,style:{height:N?"100%":A,pointerEvents:L?"none":void 0,width:N?A:"100%"}}))},_._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var e=this.props.itemCount;if(e>0){var i=this._getRangeToRender(),s=i[0],u=i[1],f=i[2],g=i[3];this._callOnItemsRendered(s,u,f,g)}}if(typeof this.props.onScroll=="function"){var m=this.state,v=m.scrollDirection,I=m.scrollOffset,T=m.scrollUpdateWasRequested;this._callOnScroll(v,I,T)}},_._getRangeToRender=function(){var e=this.props,i=e.itemCount,s=e.overscanCount,u=this.state,f=u.isScrolling,g=u.scrollDirection,m=u.scrollOffset;if(i===0)return[0,0,0,0];var v=c(this.props,m,this._instanceProps),I=d(this.props,v,m,this._instanceProps),T=!f||g==="backward"?Math.max(1,s):1,O=!f||g==="forward"?Math.max(1,s):1;return[Math.max(0,v-T),Math.max(0,Math.min(i-1,I+O)),v,I]},z}(E.exports.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var fe=function(t,r){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,r.instance},de=50,C=function(t,r,a){var o=t,l=o.itemSize,c=a.itemMetadataMap,d=a.lastMeasuredIndex;if(r>d){var p=0;if(d>=0){var S=c[d];p=S.offset+S.size}for(var y=d+1;y<=r;y++){var M=l(y);c[y]={offset:p,size:M},p+=M}a.lastMeasuredIndex=r}return c[r]},me=function(t,r,a){var o=r.itemMetadataMap,l=r.lastMeasuredIndex,c=l>0?o[l].offset:0;return c>=a?K(t,r,l,0,a):he(t,r,Math.max(0,l),a)},K=function(t,r,a,o,l){for(;o<=a;){var c=o+Math.floor((a-o)/2),d=C(t,c,r).offset;if(d===l)return c;d<l?o=c+1:d>l&&(a=c-1)}return o>0?o-1:0},he=function(t,r,a,o){for(var l=t.itemCount,c=1;a<l&&C(t,a,r).offset<o;)a+=c,c*=2;return K(t,r,Math.min(a,l-1),Math.floor(a/2),o)},H=function(t,r){var a=t.itemCount,o=r.itemMetadataMap,l=r.estimatedItemSize,c=r.lastMeasuredIndex,d=0;if(c>=a&&(c=a-1),c>=0){var p=o[c];d=p.offset+p.size}var S=a-c-1,y=S*l;return d+y},ye=ue({getItemOffset:function(t,r,a){return C(t,r,a).offset},getItemSize:function(t,r,a){return a.itemMetadataMap[r].size},getEstimatedTotalSize:H,getOffsetForIndexAndAlignment:function(t,r,a,o,l){var c=t.direction,d=t.height,p=t.layout,S=t.width,y=c==="horizontal"||p==="horizontal",M=y?S:d,z=C(t,r,l),_=H(t,l),h=Math.max(0,Math.min(_-M,z.offset)),e=Math.max(0,z.offset-M+z.size);switch(a==="smart"&&(o>=e-M&&o<=h+M?a="auto":a="center"),a){case"start":return h;case"end":return e;case"center":return Math.round(e+(h-e)/2);case"auto":default:return o>=e&&o<=h?o:o<e?e:h}},getStartIndexForOffset:function(t,r,a){return me(t,a,r)},getStopIndexForStartIndex:function(t,r,a,o){for(var l=t.direction,c=t.height,d=t.itemCount,p=t.layout,S=t.width,y=l==="horizontal"||p==="horizontal",M=y?S:c,z=C(t,r,o),_=a+M,h=z.offset+z.size,e=r;e<d-1&&h<_;)e++,h+=C(t,e,o).size;return e},initInstanceProps:function(t,r){var a=t,o=a.estimatedItemSize,l={itemMetadataMap:{},estimatedItemSize:o||de,lastMeasuredIndex:-1};return r.resetAfterIndex=function(c,d){d===void 0&&(d=!0),l.lastMeasuredIndex=Math.min(l.lastMeasuredIndex,c-1),r._getItemStyleCache(-1),d&&r.forceUpdate()},l},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(t){t.itemSize}});export{Se as S,ye as V};
