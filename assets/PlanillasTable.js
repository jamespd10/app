var d=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var c=(t,p)=>{var e={};for(var o in t)S.call(t,o)&&p.indexOf(o)<0&&(e[o]=t[o]);if(t!=null&&d)for(var o of d(t))p.indexOf(o)<0&&F.call(t,o)&&(e[o]=t[o]);return e};import{a as i,F as M,a8 as P,j as h,aw as m}from"./index.js";import{B as _}from"./BootstrapTooltip.js";import{u as T}from"./useFetchPagination.js";import{N as k}from"./NotFoundResults.js";import"./ContentProvider.js";import"./SpeedDial.module.js";import{C as A}from"./ChipState.js";import"./Modal.js";import"./SelectedCard.js";import{C as N}from"./CustomTable.js";import{d as $}from"./Visibility.js";import{I as j}from"./IconButton.js";import"./Tooltip.js";import"./Popper.js";import"./Portal.js";import"./useControlled.js";import"./useIsFocusVisible.js";import"./appendOwnerState.js";import"./isHostComponent.js";import"./Grow.js";import"./useAsyncRetry.js";import"./useAsync.js";import"./useList.js";import"./usePrevious.js";import"./useHttpService.js";import"./Grid.js";import"./Typography.js";import"./useModal.js";import"./CheckCircle.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./Chip.js";import"./ButtonBase.js";import"./emotion-react.browser.esm.js";import"./CircularProgress.js";import"./Close2.js";import"./ModalTransition.js";import"./Backdrop.js";import"./Modal2.js";import"./Paper.js";import"./DialogContent.js";import"./LoadingButton.js";import"./Button.js";import"./Search.js";import"./Clear.js";import"./TextField.js";import"./react-is.production.min.js";import"./List.js";import"./GlobalStyles.js";import"./Box.js";import"./InputAdornment.js";import"./FormGroup.js";import"./FormControlLabel.js";import"./Checkbox.js";import"./SkipNextOutlined.js";import"./Pagination.js";import"./TableRow.js";import"./Loader.js";import"./Stack.js";import"./LinearProgress.js";const Uo=({route:t})=>{var a,n,s,l;const p=c(T(t,{params:{tipo:"sipe"}}),[]),{loading:e,value:o,handlePage:f,page:g,handleSkipNext:y}=p,{handleSkipPrev:u,sendSearch:C,inputRef:b,onClearSearch:x}=p;return i(M,{children:i(N,{title:"Lista de planillas",size:"small",isSearch:{helperText:t.search("negocio")>-1?"por fecha. Ejm: 2020-01":"por nombre del negocio, RUC o fecha. Ejm: 2020-01",focus:!0,input:{inputRef:b,onClick:C,onClear:x}},notFound:(o==null?void 0:o.status)!==201&&i(k,{text:(a=o==null?void 0:o.error)==null?void 0:a.message}),loading:e,tableHeader:["Acci\xF3n","Nombre del negocio","RUC","Mes de la planilla","Fecha de realizaci\xF3n","Procesada","SIPE Asignado"],tableBody:(s=(n=o==null?void 0:o.data)==null?void 0:n.resultados)==null?void 0:s.map(r=>[i(_,{title:"Ver",placement:"right",children:i(j,{component:P,to:r.estado==="ACEPTADO"?`/planillas/${r.id}`:`/negocios/${r.id_negocio}/planillar`,color:"primary",children:i($,{})})},`${r.id}-tooltip`),h("span",{style:{textTransform:"uppercase"},children:[r.tipo," ",r.nombre_negocio]},`${r.id}-nombre`),r.ruc,i("span",{style:{textTransform:"uppercase",fontWeight:"bold"},children:m(r.mes,"MMMM - yyyy")},`${r.id}-mes`),m(r.fecha_enviado,"dd/MM/yyyy"),r.fecha_send_sipe?m(r.fecha_send_sipe,"dd/MM/yyyy"):i(A,{label:"NO PROCESADA",color:"error"}),h("span",{children:[r.nombre," ",r.apellido]},`asignacion-${r.id}`)]),pagination:{count:(l=o==null?void 0:o.data)==null?void 0:l.paginas,onChange:f,page:g},onSkipPrev:u,onSkipNext:y})})};export{Uo as default};
