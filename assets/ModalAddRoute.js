var S=Object.defineProperty;var h=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var F=(o,r,t)=>r in o?S(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t,l=(o,r)=>{for(var t in r||(r={}))x.call(r,t)&&F(o,t,r[t]);if(h)for(var t of h(r))M.call(r,t)&&F(o,t,r[t]);return o};import{c as v,b as R,g as T,o as j}from"./array.js";import{j as A,F as B,a as p}from"./index.js";import"./BootstrapTooltip.js";import{u as L}from"./useModal.js";import"./jwt-decode.esm.js";import"./ContentProvider.js";import"./SpeedDial.module.js";import{B as O}from"./BackgroundLoader.js";import q from"./Modal.js";import"./platform.js";import{T as k}from"./TextInput.js";import{M as w}from"./ModalMessage.js";import{u as y}from"./useFetch.js";import{h as H}from"./regex.js";import"./upperFirst.js";import"./Tooltip.js";import"./Portal.js";import"./useControlled.js";import"./useIsFocusVisible.js";import"./isHostComponent.js";import"./Grow.js";import"./Backdrop.js";import"./Close2.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./LoadingButton.js";import"./Modal2.js";import"./Paper.js";import"./Typography.js";import"./Button.js";import"./ButtonBase.js";import"./IconButton.js";import"./Error.js";import"./TextField.js";import"./FormHelperText.js";import"./react-is.production.min.js";import"./List.js";import"./GlobalStyles.js";import"./useHttpService.js";const I=({reset:o,setHide:r,setOpen:t,setRutas:n,rutas:e})=>{const{isLoading:u,send:i,response:d}=y();return{isLoading:u,onSubmit:async s=>{r();const a=await i({url:"/admin/negocios/add-route",method:"POST",data:l({},s)});a.status===201&&a.data&&e&&n([...e,{id:a.data.id,ruta:s.ruta}]),o(),t()},response:d}},N=v().shape({ruta:R().trim().required("Favor ingresar la ruta").matches(H,"Favor ingresar solo letras del abecedario o n\xFAmeros")}),Rr=({state:o,setHide:r,rutas:t,setRutas:n})=>{var c,g,f;const{formState:e,register:u,reset:i,handleSubmit:d}=T({mode:"all",resolver:j(N)}),m=L(),{isLoading:s,onSubmit:a,response:b}=I({reset:i,setHide:r,setOpen:m.setOpen,rutas:t,setRutas:n});return A(B,{children:[p(O,{open:s}),p(w,{state:m.modalState,setHide:m.setHide,response:b}),p(q,{state:o,setHide:()=>{r&&r(),i()},title:"Formulario para agregar una nueva ruta",actionButton:{text:"agregar",actionFunction:d(a)},children:p(k,l({label:"Nombre de la ruta",fullWidth:!0,required:!0,error:!!((c=e.errors)!=null&&c.ruta),helperText:(f=(g=e.errors)==null?void 0:g.ruta)==null?void 0:f.message},u("ruta")))})]})};export{Rr as default};
