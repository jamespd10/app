var he=Object.defineProperty,fe=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var ne=(o,i,r)=>i in o?he(o,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[i]=r,v=(o,i)=>{for(var r in i||(i={}))te.call(i,r)&&ne(o,r,i[r]);if(M)for(var r of M(i))ie.call(i,r)&&ne(o,r,i[r]);return o},b=(o,i)=>fe(o,xe(i));var ae=(o,i)=>{var r={};for(var n in o)te.call(o,n)&&i.indexOf(n)<0&&(r[n]=o[n]);if(o!=null&&M)for(var n of M(o))i.indexOf(n)<0&&ie.call(o,n)&&(r[n]=o[n]);return r};import{r as m,j as l,a as e,aI as le,c as _e,aH as ve,F as w,s as de,aw as be}from"./index.js";import{H as ye}from"./HeaderTitle.js";import"./BootstrapTooltip.js";import"./jwt-decode.esm.js";import"./ContentProvider.js";import"./SpeedDial.module.js";import"./Modal.js";import"./platform.js";import{S as Fe}from"./StyledSpeedDial.js";import{d as Ce}from"./Print.js";import{l as Ne}from"./index15.js";import{d as me}from"./WorkspacePremium.js";import{c as U,b as E,d as j,e as ce,h as Se,g as Ee,o as we,u as B,a as $,j as Ae,F as $e}from"./array.js";import{d as Be,i as ke}from"./regex.js";import{D as Pe,B as ze,a as Te,C as De}from"./ErrorIcon.js";import{b as qe,c as Re,L as se}from"./LoadingButton.js";import{A as R}from"./AutocompleteServer.js";import{d as O,a as I}from"./CheckBoxOutlineBlank.js";import{C as T,c as P}from"./Checkbox.js";import{T as y}from"./Typography.js";import{S}from"./Stack.js";import{P as pe}from"./Paper.js";import{T as A}from"./TextInput.js";import{D as J,a as Oe}from"./DireccionProvider.js";import{F as ue}from"./Backdrop.js";import{D as Y}from"./Divider.js";import{B as Z}from"./Button.js";import{D as Ie}from"./DecimalInput.js";import{a as We}from"./FormHelperText.js";import{S as Ve}from"./SelectHookForm.js";import{S as Ue}from"./Snackbar.js";import{A as je}from"./Alert.js";import{o as ge}from"./TextField.js";import{d as Le}from"./Visibility.js";import{I as L}from"./IconButton.js";import{d as Me,a as He}from"./SkipNextOutlined.js";import{P as Ge}from"./Pagination.js";import{L as Qe}from"./Loader.js";import{d as Ye}from"./Search.js";import{d as Ze}from"./Close2.js";import"./Tooltip.js";import"./Popper.js";import"./Portal.js";import"./useControlled.js";import"./useIsFocusVisible.js";import"./isHostComponent.js";import"./Grow.js";import"./useModal.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./Error.js";import"./Modal2.js";import"./ButtonBase.js";import"./Assignment.js";import"./FabButtonAction.js";import"./react-is.production.min.js";import"./AssignmentRounded.js";import"./upperFirst.js";import"./MobileDatePicker.js";import"./MonthPicker.js";import"./usePickerState.js";import"./Grid.js";import"./InputAdornment.js";import"./index7.js";import"./StyledGridOverlay.js";import"./Box.js";import"./useFetch.js";import"./useHttpService.js";import"./Autocomplete.js";import"./Close.js";import"./Chip.js";import"./CustomDecimal.js";import"./react-number-format.es.js";import"./string.helper.js";import"./MenuItem.js";import"./List.js";import"./listItemIconClasses.js";import"./listItemTextClasses.js";import"./GlobalStyles.js";const Je=o=>{const[i,r]=m.exports.useState(!1),n=m.exports.useRef(null),t=Ne.exports.useReactToPrint({content:()=>n.current,pageStyle:o==null?void 0:o.pageStyle,documentTitle:o==null?void 0:o.title,onBeforePrint:async()=>{r(!0),o!=null&&o.onBeforePrint&&(o==null||o.onBeforePrint())},onAfterPrint:async()=>{r(!1),o!=null&&o.onAfterPrint&&(o==null||o.onAfterPrint())}});return[n,t,i]},Ke="_divHidden_1egbp_1",Xe="_flexColumn_1egbp_5",eo="_content_1egbp_6",oo="_footer_1egbp_7",ro="_firma_1egbp_8",no="_fecha_1egbp_25",to="_receptor_1egbp_29",io="_dirigido_1egbp_34",ao="_textUpperBold_1egbp_38",co="_textBold_1egbp_42",so="_parrafo_1egbp_47",lo="_textUpper_1egbp_38",mo="_textCapi_1egbp_57",po="_titleCenter_1egbp_61",uo="_tab_1egbp_70";var u={divHidden:Ke,flexColumn:Xe,content:eo,footer:oo,firma:ro,fecha:no,receptor:to,dirigido:io,textUpperBold:ao,textBold:co,parrafo:so,textUpper:lo,textCapi:mo,titleCenter:po,tab:uo};const go=({dirigido:o})=>l("div",{className:u.dirigido,children:[o||"A quien concierne",":"]}),ho=()=>e("div",{className:u.fecha,children:"Panam\xE1, 8 de julio del 20019"}),fo=()=>l("div",{className:u.firma,children:[e("span",{children:"Celia A. De Cheung"}),e("span",{children:"C.I.P. 8-153-2683"}),e("span",{children:"C.P.A. #79"})]}),xo=()=>e("div",{className:u.footer,children:e("span",{children:"Atentamente,"})}),_o=({receptor:o,ciudad:i})=>l("div",{className:u.receptor,children:[e("span",{children:"Se\xF1ores"}),e("span",{className:u.textUpperBold,children:o}),e("span",{children:i||"Ciudad.-"})]}),vo=({valRef:o})=>e("div",{className:u.divHidden,children:l("div",{className:u.content,ref:o,children:[l("div",{className:u.flexColumn,children:[e(ho,{}),e(_o,{receptor:"Banco Nacional de Panam\xE1"}),e(go,{}),l("p",{className:u.parrafo,children:["El suscrito,"," ",e("span",{className:u.textUpperBold,children:"CELIA A. DE CHEUNG"}),", con c\xE9dula de identidad personal No."," ",e("span",{className:u.textUpperBold,children:"8-153-2683"}),", debidamente registrada en el Departamento de Licencias con la licencia C.P.A ",e("span",{className:u.textUpperBold,children:"#79;"})]}),e("span",{className:u.titleCenter,children:"Certifico"}),l("p",{className:u.parrafo,children:["Por este medio que el se\xF1or"," ",e("span",{className:u.textUpperBold,children:"Tian wei zhou kam"}),", var\xF3n, mayor de edad, con c\xE9dula de identidad personal"," ",e("span",{className:u.textUpperBold,children:"N\xBA N-20-340,"})," ","administrador del negocio llamado"," ",e("span",{className:u.textUpperBold,children:"ventas meteti,"})," ","amparado bajo la sociedad an\xF3nima"," ",e("span",{className:u.textUpperBold,children:"ventas meteti, S.A.,"})," ",e("span",{className:u.textBold,children:"con RUC #"})," ",e("span",{className:u.textUpperBold,children:"2129419-1-761653,"})," que opera en ",e("span",{children:"la Urbanizaci\xF3n Meteti, calle principal"}),", Corregimiento de"," ",e("span",{className:u.textCapi,children:"Pinogana, Dari\xE9n"}),", en la que se dedican a la actividad de"," ",e("span",{children:"venta al por menor y mayor de v\xEDveres, carnes, legumbres, art\xEDculos de tocador, escolares, medicamentos populares, panes, dulces, refrescos, golosinas, sodas, detergentes, ropa para damas y caballeros, calzados, l\xEDnea blanca, licores en envases cerrados, etc."})]}),l("p",{className:u.parrafo,children:["Que ",e("span",{children:" else\xF1or"})," ",e("span",{className:u.textCapi,children:"Zhou"})," mantuvo un ingreso mensual en el periodo fiscal del a\xF1o ",e("span",{children:"2017"})," de B/."," ",e("span",{className:u.textUpperBold,children:"3,000.00 (TRES MIL BALBOAS CON 00/100)."})]}),l("p",{className:u.parrafo,children:["Y en el periodo fiscal del a\xF1o 2018 un ingreso mensual de"," ",e("span",{className:u.textUpperBold,children:"B/3,000.00 (TRES MIL BALBOAS CON 00/100),"})," ","en las actividades mencionadas."]}),e("p",{className:u.parrafo,children:"Agradeci\xE9ndoles la atenci\xF3n brindada, queda de ustedes."}),e(xo,{})]}),e(fo,{})]})}),bo=U().shape({nombre_encargado:E().typeError("Favor ingresar el nombre").trim().required("Favor ingresar el nombre"),apellido_encargado:E().typeError("Favor ingresar el apellido").trim().required("Favor ingresar el apellido"),identificacion_encargado:E().typeError("Favor ingresar la c\xE9dula o pasaporte").trim().required("Favor ingresar la c\xE9dula o pasaporte"),cargo_encargado:E().typeError("Favor ingresar el cargo").trim().required("Favor ingresar el cargo"),genero:E().typeError("Favor ingresar el g\xE9nero").trim().required("Favor ingresar el g\xE9nero"),cliente:U().shape({id:j().typeError("Favor ingresar el cliente").integer("Favor ingresar un n\xFAmero entero").positive("Favor ingresar un n\xFAmero positivo").min(1,"Favor ingresar un n\xFAmero mayor que 0").required("Favor ingresar el cliente")}).typeError("Favor ingresar el cliente").required("Favor ingresar el cliente"),banco:U().shape({id:j().typeError("Favor ingresar el cliente").integer("Favor ingresar un n\xFAmero entero").positive("Favor ingresar un n\xFAmero positivo").min(1,"Favor ingresar un n\xFAmero mayor que 0").required("Favor ingresar el cliente")}).typeError("Favor ingresar el banco").required("Favor ingresar el banco"),periodos:ce().of(U().shape({ingreso:j().typeError("Favor ingresar un monto").positive("Favor ingresar un monto positivo").min(0,"Favor ingresar un monto mayor a 0").max(9e10,"Favor ingresar un m\xE1ximo de 10 d\xEDgitos").required("Favor ingresar un monto").test("check-decimal","Favor ingresar m\xE1ximo dos decimales",o=>!!(o===0||o&&o.toString().match(Be))),fecha_yy:j().typeError("Favor ingresar el a\xF1o fiscal").positive("Favor ingresar un n\xFAmero positivo").min(2015,"Favor ingresar un n\xFAmero mayor a 2015").max(2045,"Favor ingresar un n\xFAmero mayor a 2045").required("Favor ingresar el a\xF1o fiscal").test("check","Favor ingresar un n\xFAmero de 4 d\xEDgitos",o=>!!(o&&o.toString().match(ke)&&o.toString().length===4))})).typeError("Favor ingresar un per\xEDodo").min(1,"Favor ingresar al menos un per\xEDodo").required("Favor ingresar al menos un per\xEDodo"),negocios:ce().of(U().shape({id:j().typeError("Favor ingresar el cliente").integer("Favor ingresar un n\xFAmero entero").positive("Favor ingresar un n\xFAmero positivo").min(1,"Favor ingresar un n\xFAmero mayor que 0").required("Favor ingresar el cliente"),actividad:E().typeError("Favor ingresar la actividad del negocio").trim().required("Favor ingresar la actividad del negocio"),fecha_aviso_op:Se().typeError("Favor ingresar la fecha de aviso de operaci\xF3n").required("Favor ingresar la fecha de aviso de operaci\xF3n"),ubicacion:E().typeError("Favor ingresar la ubicaci\xF3n del negocio").trim().required("Favor ingresar la ubicaci\xF3n del negocio"),provincia:E().typeError("Favor ingresar la provincia del negocio").trim().required("Favor ingresar la provincia en la que se ubica el negocio"),distrito:E().typeError("Favor ingresar el distrito del negocio").trim().required("Favor ingresar el distrito en el que se ubica el negocio"),corregimiento:E().typeError("Favor ingresar el corregimiento del negocio").trim().required("Favor ingresar el corregimiento en el que se ubica el negocio")})).typeError("Favor ingresar un negocio").min(1,"Favor ingresar al menos un negocio").required("Favor ingresar al menos un negocio")}),z=m.exports.createContext({}),yo=({children:o})=>{const i=le(),r=_e(),n=m.exports.useMemo(()=>({banco:null,cliente:null,nombre_encargado:"",apellido_encargado:"",identificacion_encargado:"",cargo_encargado:"",genero:"",negocios:[],periodos:[{ingreso:"",fecha_yy:""}]}),[]),t=Ee({mode:"all",defaultValues:n,resolver:we(bo)}),{reset:a}=t,[,,,,,s]=r,[,c]=i,d=m.exports.useCallback(()=>{c(!1),s(),a(n)},[]);return e(z.Provider,{value:{modalRealizar:i,form:t,fetcher:r,defaultValues:n,handleHide:d},children:o})},k=m.exports.createContext({}),Fo=({children:o})=>{const i=ve("/admin/certificaciones-ingresos");return e(k.Provider,{value:{pagination:i},children:o})},Co=()=>{const{pagination:o}=m.exports.useContext(k),{selected:i}=o,{modalRealizar:r}=m.exports.useContext(z),[,n]=r,[t,a]=Je({pageStyle:"@page { margin: 0 !important; }"});return l(w,{children:[e(Fe,{acciones:[{icon:me,onClick:()=>n(!0),title:"Realizar certificaci\xF3n"},...i.length!==0?[{icon:Ce,onClick:a,title:"Imprimir"}]:[]]}),e(vo,{valRef:t})]})},No=r=>{var n=r,{children:o}=n,i=ae(n,["children"]);return e(qe,b(v({},i),{dividers:!0,children:o}))},So=()=>{var a;const{control:o,setValue:i,formState:r}=B(),{errors:n}=r,t=$({control:o,name:"banco"});return e(w,{children:e(R,{ref:null,inputProps:{label:"Banco",error:!!(n!=null&&n.banco),helperText:(a=n==null?void 0:n.banco)==null?void 0:a.message},disableStyle:!0,enableFirst:!0,value:t,size:"small",fullWidth:!0,onChange:(s,c)=>i("banco",c,{shouldValidate:!0}),isOptionEqualToValue:(s,c)=>s.id===c.id,urlFetch:"/admin/bancos",getOptionLabel:s=>s.nombre.toUpperCase(),renderOption:(s,c,{selected:d})=>m.exports.createElement("li",b(v({},s),{key:c.id,style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}}),e(T,{icon:e(O,{}),checkedIcon:e(I,{}),checked:d,size:"small"}),e("div",{style:{display:"flex",flexDirection:"column",textTransform:"uppercase"},children:e(y,{variant:"body1",fontWeight:"bold",children:c.nombre})}))})})},Eo=()=>{var a;const{control:o,setValue:i,formState:r}=B(),{errors:n}=r,t=$({control:o,name:"cliente"});return e(w,{children:e(R,{ref:null,inputProps:{label:"Cliente",error:!!(n!=null&&n.cliente),helperText:(a=n==null?void 0:n.cliente)==null?void 0:a.message},disableStyle:!0,enableFirst:!0,value:t,size:"small",fullWidth:!0,onChange:(s,c)=>{i("cliente",c,{shouldValidate:!0}),i("negocios",[])},isOptionEqualToValue:(s,c)=>s.id===c.id,urlFetch:"/admin/clientes-autocomplete",getOptionLabel:s=>s.nom_cliente||"",renderOption:(s,c,{selected:d})=>m.exports.createElement("li",b(v({},s),{key:c.id,style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}}),e(T,{icon:e(O,{}),checkedIcon:e(I,{}),checked:d,size:"small"}),l("div",{style:{display:"flex",flexDirection:"column",textTransform:"uppercase"},children:[c.nom_cliente&&c.nom_cliente!==""&&e(y,{variant:"body1",fontWeight:"bold",children:c.nom_cliente}),c.ruc&&c.ruc!==""&&e(y,{variant:"caption",fontWeight:"bold",children:c.ruc})]}))})})},wo=()=>l(S,{spacing:1,padding:1,direction:"column",component:pe,variant:"outlined",children:[e(y,{variant:"h5",children:"Datos del cliente y el banco"}),l(S,{spacing:1,direction:{xs:"column",md:"row"},children:[e(Eo,{}),e(So,{})]})]}),Ao="_container_10uy9_1",$o="_negocio_10uy9_7",Bo="_containter_10uy9_23",ko="_legend_10uy9_23",Po="_flexNowrap_10uy9_28",zo="_active_10uy9_39",To="_flexColumn_10uy9_47",Do="_flexRowBetween_10uy9_54";var q={container:Ao,negocio:$o,containter:Bo,legend:ko,flexNowrap:Po,active:zo,flexColumn:To,flexRowBetween:Do};const qo=()=>{var s;const{control:o,setValue:i,formState:r}=B(),{errors:n}=r,t=$({control:o,name:"negocios"}),a=$({control:o,name:"cliente"});return e(w,{children:e(R,{ref:null,inputProps:{label:"Negocios",placeholder:"Buscar...",error:!!(n!=null&&n.negocios),helperText:(s=n==null?void 0:n.negocios)==null?void 0:s.message},disableStyle:!0,enableFirst:!0,size:"small",value:t,fullWidth:!0,multiple:!0,onChange:(c,d)=>i("negocios",d,{shouldValidate:!0}),isOptionEqualToValue:(c,d)=>c.id===d.id,urlFetch:"/admin/certificaciones-ingresos/negocios",params:{id_cliente:a==null?void 0:a.id},getOptionLabel:c=>`${c.tipo||""} ${c.nombre_negocio||""}`.trim(),renderOption:(c,d,{selected:p})=>m.exports.createElement("li",b(v({},c),{className:`${q.flexNowrap} ${p?q.active:""}`,key:`${d.id}-${d.ruc}`}),e(T,{icon:e(O,{}),checkedIcon:e(I,{}),checked:p,size:"small"}),l("div",{className:q.flexColumn,children:[l(y,{variant:"body1",fontWeight:"bold",component:"span",children:[d.tipo," ",d.nombre_negocio]}),l("div",{className:q.flexRowBetween,children:[d.ruc&&d.ruc!==""&&e(y,{variant:"caption",component:"span",children:d.ruc}),d.ruta&&d.ruta!==""&&e(y,{variant:"caption",component:"span",children:d.ruta})]})]}))})})},Ro=({i:o})=>{var F,C,N,x,g;const{control:i,setValue:r,formState:n}=B(),{errors:t}=n,a=$({control:i,name:`negocios.${o}.corregimiento`}),s=m.exports.useContext(J),{distrito:c,corregimiento:d,setCorregimiento:p}=s;return m.exports.useEffect(()=>{a&&p({id:0,corregimiento:a,id_distrito:0,distrito:"",provincia:""})},[]),e(w,{children:e(R,{ref:null,inputProps:{label:"Corregimiento",error:!!((C=(F=t==null?void 0:t.negocios)==null?void 0:F[o])!=null&&C.corregimiento),helperText:(g=(x=(N=t==null?void 0:t.negocios)==null?void 0:N[o])==null?void 0:x.corregimiento)==null?void 0:g.message},disableStyle:!0,params:{id_distrito:c?c.id:""},value:d,enableFirst:!0,fullWidth:!0,size:"small",onChange:(h,_)=>{p(_),_?r(`negocios.${o}.corregimiento`,_.corregimiento):r(`negocios.${o}.corregimiento`,"")},isOptionEqualToValue:(h,_)=>h.id===_.id,urlFetch:"/corregimientos",getOptionLabel:h=>h.corregimiento,renderOption:(h,_,{selected:D})=>m.exports.createElement("li",b(v({},h),{key:_.id,style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}}),e(T,{icon:e(O,{}),checkedIcon:e(I,{}),checked:D,size:"small"}),l("div",{style:{display:"flex",flexDirection:"column",textTransform:"uppercase",padding:0,margin:0},children:[e(y,{variant:"body1",fontWeight:"bold",p:0,m:0,children:_.corregimiento}),l(y,{variant:"caption",p:0,m:0,children:[_.distrito," - ",_.provincia]})]}))})})},Oo=({i:o})=>{var p,F,C,N,x;const{control:i,setValue:r,formState:n}=B(),{errors:t}=n,a=$({control:i,name:`negocios.${o}.distrito`}),{provincia:s,distrito:c,setDistrito:d}=m.exports.useContext(J);return m.exports.useEffect(()=>{a&&d({id:0,distrito:a,id_provincia:0,provincia:""})},[]),e(w,{children:e(R,{ref:null,inputProps:{label:"Distrito",error:!!((F=(p=t==null?void 0:t.negocios)==null?void 0:p[o])!=null&&F.distrito),helperText:(x=(N=(C=t==null?void 0:t.negocios)==null?void 0:C[o])==null?void 0:N.distrito)==null?void 0:x.message},disableStyle:!0,params:{id_provincia:s?s.id:""},value:c,enableFirst:!0,fullWidth:!0,size:"small",onChange:(g,h)=>{d(h),h?r(`negocios.${o}.distrito`,h.distrito):r(`negocios.${o}.distrito`,"")},isOptionEqualToValue:(g,h)=>g.id===h.id,urlFetch:"/distritos",getOptionLabel:g=>g.distrito,renderOption:(g,h,{selected:_})=>m.exports.createElement("li",b(v({},g),{key:h.id,style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}}),e(T,{icon:e(O,{}),checkedIcon:e(I,{}),checked:_,size:"small"}),l("div",{style:{display:"flex",flexDirection:"column",textTransform:"uppercase",padding:0,margin:0},children:[e(y,{variant:"body1",fontWeight:"bold",p:0,m:0,children:h.distrito}),e(y,{variant:"caption",p:0,m:0,children:h.provincia})]}))})})},Io=({i:o})=>{var d,p,F,C,N;const{control:i,setValue:r,formState:n}=B(),{errors:t}=n,a=$({control:i,name:`negocios.${o}.provincia`}),{provincia:s,setProvincia:c}=m.exports.useContext(J);return m.exports.useEffect(()=>{a&&c({id:0,provincia:a})},[]),e(w,{children:e(R,{ref:null,inputProps:{label:"Provincia",error:!!((p=(d=t==null?void 0:t.negocios)==null?void 0:d[o])!=null&&p.provincia),helperText:(N=(C=(F=t==null?void 0:t.negocios)==null?void 0:F[o])==null?void 0:C.provincia)==null?void 0:N.message},disableStyle:!0,enableFirst:!0,value:s,fullWidth:!0,size:"small",onChange:(x,g)=>{c(g),g?r(`negocios.${o}.provincia`,g.provincia):r(`negocios.${o}.provincia`,"")},isOptionEqualToValue:(x,g)=>x.id===g.id,urlFetch:"/provincias",getOptionLabel:x=>x.provincia,renderOption:(x,g,{selected:h})=>m.exports.createElement("li",b(v({},x),{key:g.id,style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}}),e(T,{icon:e(O,{}),checkedIcon:e(I,{}),checked:h,size:"small"}),e("div",{style:{display:"flex",flexDirection:"column",textTransform:"uppercase"},children:e(y,{variant:"body1",fontWeight:"bold",children:g.provincia})}))})})},Wo=({show:o,children:i})=>e(ue,{in:o,timeout:500,children:i}),Vo=()=>{const o=B(),{control:i,register:r,setValue:n,formState:t}=o,{errors:a}=t,s=$({control:i,name:"negocios"}),c=$({control:i,name:"cliente"});return e(Wo,{show:!!c,children:l(S,{className:q.container,direction:"column",spacing:1,children:[e(y,{variant:"h5",children:"Negocios"}),e(Y,{}),e(qo,{}),e(Y,{}),s==null?void 0:s.map((d,p)=>{var F,C,N,x,g,h,_,D,W,V;return e(Oe,{children:l("fieldset",{className:q.negocio,children:[l("legend",{className:q.legend,children:[d.tipo," ",d.nombre_negocio]}),l(S,{spacing:1,direction:{xs:"column",md:"row"},children:[e(A,b(v({label:"Actividad",size:"small",fullWidth:!0},r(`negocios.${p}.actividad`)),{error:!!((C=(F=a==null?void 0:a.negocios)==null?void 0:F[p])!=null&&C.actividad),helperText:(g=(x=(N=a==null?void 0:a.negocios)==null?void 0:N[p])==null?void 0:x.actividad)==null?void 0:g.message})),e(Pe,{label:"Fecha A. OP.",views:["day","month","year"],inputFormat:"dd/MM/yyyy",value:s[p].fecha_aviso_op,onChange:Q=>{n(`negocios.${p}.fecha_aviso_op`,Q,{shouldValidate:!0})},renderInput:Q=>{var K,X,ee,oe,re;return e(A,b(v({size:"small",fullWidth:!0},Q),{error:!!((X=(K=a==null?void 0:a.negocios)==null?void 0:K[p])!=null&&X.fecha_aviso_op),helperText:(re=(oe=(ee=a==null?void 0:a.negocios)==null?void 0:ee[p])==null?void 0:oe.fecha_aviso_op)==null?void 0:re.message}))}}),e(A,b(v({label:"Ubicaci\xF3n",size:"small",fullWidth:!0,inputProps:{maxLength:255}},r(`negocios.${p}.ubicacion`)),{error:!!((_=(h=a==null?void 0:a.negocios)==null?void 0:h[p])!=null&&_.ubicacion),helperText:(V=(W=(D=a==null?void 0:a.negocios)==null?void 0:D[p])==null?void 0:W.ubicacion)==null?void 0:V.message}))]}),l(S,{spacing:1,direction:{xs:"column",md:"row"},children:[e(Io,{i:p}),e(Oo,{i:p}),e(Ro,{i:p})]})]})},d.id)}),s.length>1&&e(Z,{variant:"outlined",color:"error",onClick:()=>{n("negocios",s.slice(0,s.length-1))},children:"Remover \xFAltimo"})]})})},Uo="_container_1wyo1_1",jo="_periodos_1wyo1_2",Lo="_errorBorder_1wyo1_14";var H={container:Uo,periodos:jo,errorBorder:Lo};const Mo=()=>{var c;const{control:o,register:i,formState:r}=B(),{errors:n}=r,{fields:t,remove:a,append:s}=Ae({control:o,name:"periodos"});return l("div",{className:H.container,children:[l("div",{className:`${H.periodos} ${n.periodos?H.errorBorder:""}`,children:[e(y,{variant:"h5",children:"Per\xEDodos"}),e(Y,{}),t.map((d,p)=>{var F,C,N,x,g,h,_,D,W,V;return l(S,{spacing:1,direction:{xs:"column",md:"row"},children:[e(A,b(v({label:"Per\xEDodo(a\xF1o)",size:"small",fullWidth:!0,placeholder:"yyyy"},i(`periodos.${p}.fecha_yy`)),{error:!!((C=(F=n==null?void 0:n.periodos)==null?void 0:F[p])!=null&&C.fecha_yy),helperText:(g=(x=(N=n==null?void 0:n.periodos)==null?void 0:N[p])==null?void 0:x.fecha_yy)==null?void 0:g.message})),e(Ie,{name:`periodos.${p}.ingreso`,label:"Ingreso bruto anual",size:"small",fullWidth:!0,error:!!((_=(h=n==null?void 0:n.periodos)==null?void 0:h[p])!=null&&_.ingreso),helperText:(V=(W=(D=n==null?void 0:n.periodos)==null?void 0:D[p])==null?void 0:W.ingreso)==null?void 0:V.message})]},d.id)}),l(S,{spacing:1,direction:{xs:"column",md:"row"},justifyContent:"center",children:[e(Z,{variant:"outlined",onClick:()=>s({ingreso:"",fecha_yy:""}),children:"Agregar"}),t.length!==1&&e(Z,{variant:"outlined",color:"error",onClick:()=>a(t.length-1),children:"Remover"})]})]}),(n==null?void 0:n.periodos)&&e(We,{className:H.helper,error:!0,children:(c=n==null?void 0:n.periodos)==null?void 0:c.message})]})},Ho=()=>{var n,t,a,s,c;const{register:o,formState:i}=B(),{errors:r}=i;return l(S,{spacing:1,direction:"column",component:pe,padding:1,variant:"outlined",children:[e(y,{variant:"h5",children:"Datos del representante"}),l(S,{spacing:1,direction:{xs:"column",md:"row"},children:[e(A,b(v({label:"Nombre",size:"small",fullWidth:!0},o("nombre_encargado")),{error:!!(r!=null&&r.nombre_encargado),helperText:(n=r==null?void 0:r.nombre_encargado)==null?void 0:n.message})),e(A,b(v({label:"Apellido",size:"small",fullWidth:!0},o("apellido_encargado")),{error:!!(r!=null&&r.apellido_encargado),helperText:(t=r==null?void 0:r.apellido_encargado)==null?void 0:t.message})),e(A,b(v({label:"C\xE9dula o pasaporte",size:"small",fullWidth:!0},o("identificacion_encargado")),{error:!!(r!=null&&r.identificacion_encargado),helperText:(a=r==null?void 0:r.identificacion_encargado)==null?void 0:a.message}))]}),l(S,{spacing:1,direction:{xs:"column",md:"row"},children:[e(Ve,{name:"genero",label:"G\xE9nero",options:["Masculino","Femenino"],size:"small",disableBox:!0,error:!!(r!=null&&r.genero),helperText:(s=r==null?void 0:r.genero)==null?void 0:s.message}),e(A,b(v({label:"Cargo",size:"small",fullWidth:!0},o("cargo_encargado")),{error:!!(r!=null&&r.cargo_encargado),helperText:(c=r==null?void 0:r.cargo_encargado)==null?void 0:c.message}))]})]})},Go=()=>{const{form:o}=m.exports.useContext(z);return e($e,b(v({},o),{children:l(S,{spacing:1,direction:"column",children:[e(Ho,{}),e(wo,{}),e(Mo,{}),e(Vo,{})]})}))},Qo=()=>{const{modalRealizar:o}=m.exports.useContext(z),[,i]=o,{fetcher:r}=m.exports.useContext(z),[,n]=r;return{handleSend:a=>{n("/admin/certificaciones-ingresos",{method:"POST",data:a}).then(s=>s.data&&!s.error&&i(!1))}}},Yo=()=>{const{handleHide:o,form:i,fetcher:r}=m.exports.useContext(z),[n]=r,{handleSubmit:t}=i,{handleSend:a}=Qo();return l(Re,{children:[e(se,{loading:n,variant:"outlined",color:"inherit",onClick:()=>o(),children:"Cerrar"}),e(se,{loading:n,variant:"outlined",color:"primary",onClick:t(a),children:"Guardar"})]})},Zo=()=>{const{fetcher:o}=m.exports.useContext(z),[i,,r,n]=o,[t,a]=le();return m.exports.useEffect(()=>{(()=>{a(!!(!i&&(r||n)))})()},[i,r,n]),e(Ue,{open:t,onClose:()=>a(!1),children:e(je,{variant:"filled",severity:r?"success":"error",onClose:()=>a(!1),children:(r==null?void 0:r.message)||(n==null?void 0:n.message)})})},Jo=()=>{const o=m.exports.useContext(z),{modalRealizar:i,handleHide:r,fetcher:n}=o,[t]=i,[a]=n;return e(w,{children:l(ze,{open:t,onClose:()=>r(),fullWidth:!0,fullScreen:!0,children:[e(Te,{onClose:a?void 0:()=>r(),children:l(y,{textTransform:"uppercase",display:"flex",flexDirection:"row",gap:1,alignItems:"center",children:[e(me,{}),"Formulario de certificaci\xF3n de ingresos"]})}),l(No,{children:[e(Zo,{}),e(Go,{})]}),e(Yo,{})]})})},Ko="_container_1ejrf_1",Xo="_pagination_1ejrf_7",er="_response_1ejrf_14",or="_table_1ejrf_19",rr="_header_1ejrf_24",nr="_row_1ejrf_39",tr="_column_1ejrf_39",ir="_selected_1ejrf_51",ar="_checkboxColumn_1ejrf_55",cr="_columnCenter_1ejrf_60",sr="_removeSpacing_1ejrf_64",lr="_message_1ejrf_69";var f={container:Ko,pagination:Xo,response:er,table:or,header:rr,row:nr,column:tr,selected:ir,checkboxColumn:ar,columnCenter:cr,removeSpacing:sr,message:lr};const dr=()=>{const{pagination:o}=m.exports.useContext(k),{fetcher:i}=o,[,,,r]=i;return e("tbody",{children:e("tr",{children:e("td",{className:f.message,colSpan:8,children:e(De,{label:r==null?void 0:r.message})})})})},mr=de(T)(({theme:o})=>({[`&.${P.root}`]:{color:o.palette.primary.main,borderColor:o.palette.primary.main,padding:0,margin:0,[`& .${P.checked}`]:{color:"white"},[`& .${ge.adornedEnd}`]:{color:"white",backgroundColor:"white"},[`& .${P.indeterminate}`]:{color:"white"},[`& .${P.root}`]:{color:"white"}}})),pr=()=>{const{pagination:o}=m.exports.useContext(k),{fetcher:i,selected:r,setSelected:n}=o,[t,,a,s]=i;return!t&&!a&&s?e(dr,{}):e("tbody",{children:a==null?void 0:a.resultados.map(c=>l("tr",{className:`${f.row} ${r.find(d=>d.id===c.id)?f.selected:""}`,children:[e("td",{className:f.column,children:e(mr,{size:"small",disableRipple:!0,checked:!!r.find(d=>d.id===c.id),onChange:d=>{d.target.checked?n([...r,c]):n(r.filter(p=>p.id!==c.id))}})}),e("td",{className:`${f.column} ${f.columnCenter}`,children:e(L,{className:f.removeSpacing,color:"primary",size:"small",disableRipple:!0,children:e(Le,{})})}),e("td",{className:f.column,children:c.cliente.nom_cliente}),e("td",{className:f.column,children:c.cliente.ruc}),l("td",{className:f.column,children:[c.nombre_encargado," ",c.apellido_encargado]}),e("td",{className:f.column,children:c.identificacion_encargado}),e("td",{className:f.column,children:c.banco.nombre}),e("td",{className:f.column,children:c.fecha_impresion?be(c.fecha_impresion,"dd/MM/yyyy"):"NO IMPRESA"})]},c.id))})},ur=de(T)(({theme:o})=>({[`&.${P.root}`]:{color:o.palette.common.white,borderColor:o.palette.common.white,padding:0,margin:0,[`& .${P.checked}`]:{color:"white"},[`& .${ge.adornedEnd}`]:{color:"white",backgroundColor:"white"},[`& .${P.indeterminate}`]:{color:"white"},[`& .${P.root}`]:{color:"white"}}})),gr=()=>{const{pagination:o}=m.exports.useContext(k),{fetcher:i,selected:r,setSelected:n}=o,[,,t]=i;return e("th",{className:f.checkboxColumn,children:e(ur,{size:"small",disableRipple:!0,color:"secondary",checked:!!(t!=null&&t.resultados.every(a=>!!r.find(s=>s.id===a.id))),indeterminate:!!(t!=null&&t.resultados.some(a=>!!r.find(s=>s.id===a.id)))&&!(t!=null&&t.resultados.every(a=>!!r.find(s=>s.id===a.id))),onChange:a=>{if(a.target.checked&&t){const s=t.resultados.filter(c=>!r.find(d=>c.id===d.id));n([...r,...s])}else n([])}})})},hr=()=>e("thead",{className:f.header,children:l("tr",{children:[e(gr,{}),e("th",{children:"Ver"}),e("th",{children:"Cliente"}),e("th",{children:"Ruc"}),e("th",{children:"Representante"}),e("th",{children:"C\xE9dula"}),e("th",{children:"Banco"}),e("th",{children:"Impresa"})]})}),fr=()=>{const{pagination:o}=m.exports.useContext(k),{fetcher:i,page:r,setPage:n}=o,[,,t]=i;return l("div",{className:f.pagination,children:[e(L,{size:"small",onClick:()=>n(r-10),disabled:r<=10,children:e(Me,{})}),e(Ge,{color:"primary",count:t==null?void 0:t.paginas,page:r,onChange:(a,s)=>n(s)}),e(L,{size:"small",onClick:()=>n(r+10),disabled:!!(t&&t.paginas-o.page<10),children:e(He,{})})]})},xr=()=>e("tbody",{children:e("tr",{children:e("td",{className:f.loader,colSpan:8,children:e(Qe,{margin:20})})})}),_r="_toolbar_c9s8z_1",vr="_title_c9s8z_7",br="_searchAdorment_c9s8z_13",yr="_banner_c9s8z_19";var G={toolbar:_r,title:vr,searchAdorment:br,banner:yr};const Fr=()=>{const o=m.exports.useRef(null),{pagination:i}=m.exports.useContext(k),{search:r,sendSearch:n}=i,[t,a]=m.exports.useState(r);return e("form",{onSubmit:c=>{c.preventDefault(),n(t)},children:e(A,{label:"Buscar...",size:"small",fullWidth:!0,autoFocus:!0,value:t,onChange:c=>a(c.target.value),inputRef:o,helperText:"Por raz\xF3n social, ruc, nombre del representante, c\xE9dula o pasaporte",InputProps:{endAdornment:l("div",{className:G.searchAdorment,children:[e(L,{size:"small",children:e(Ye,{})}),t!==""&&e(L,{size:"small",onClick:()=>{var c;a(""),n(""),(c=o==null?void 0:o.current)==null||c.focus()},children:e(Ze,{})})]})}})})},Cr=()=>{const{pagination:o}=m.exports.useContext(k),{selected:i}=o,r=m.exports.useMemo(()=>i.length,[i]);return l(w,{children:[l("div",{className:G.toolbar,children:[e("span",{className:G.title,children:"Certificaciones de ingresos realizadas"}),e(Fr,{})]}),e(ue,{in:r!==0,unmountOnExit:!0,children:l("div",{className:G.banner,children:[r," fila",r>1?"s":""," seleccionada",r>1?"s":""]})})]})},Nr=()=>{const{pagination:o}=m.exports.useContext(k),{fetcher:i}=o,[r,,n,t]=i;return l("div",{className:f.container,children:[e(Cr,{}),e("div",{className:f.response,children:l("table",{className:f.table,children:[e(hr,{}),r?e(xr,{}):e(pr,{})]})}),!r&&n&&!t&&e(fr,{})]})},Sr=()=>l(w,{children:[e(Nr,{}),e(Co,{}),e(Jo,{})]}),Xn=()=>e(Fo,{children:l(yo,{children:[e(ye,{message:"Certificaci\xF3n de Ingresos"}),e(Sr,{})]})});export{Xn as default};
