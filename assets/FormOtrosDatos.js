var x=Object.defineProperty;var u=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var l=(t,r,o)=>r in t?x(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,g=(t,r)=>{for(var o in r||(r={}))b.call(r,o)&&l(t,o,r[o]);if(u)for(var o of u(r))F.call(r,o)&&l(t,o,r[o]);return t};import{o as S}from"./constantsLists.js";import{S as d}from"./SelectHookForm.js";import{u as n,b as h}from"./yup.module.js";import{a as e,f as T,as as C,j as c,F as f}from"./index.js";import{u as _}from"./useFirstFetch.js";import{G as m}from"./Grid.js";import{u as p}from"./string.helper.js";import{T as $}from"./TextInput.js";import"./Box.js";import"./Typography.js";import"./TextField.js";import"./useFormControl.js";import"./useControlled.js";import"./formControlState.js";import"./react-is.production.min.js";import"./Modal2.js";import"./Backdrop.js";import"./Fade.js";import"./isHostComponent.js";import"./Portal.js";import"./Paper.js";import"./Grow.js";import"./List.js";import"./createSvgIcon.js";import"./outlinedInputClasses.js";import"./GlobalStyles.js";import"./emotion-react.browser.esm.js";import"./MenuItem.js";import"./ButtonBase.js";import"./useIsFocusVisible.js";import"./listItemIconClasses.js";import"./Divider.js";import"./listItemTextClasses.js";import"./useAsyncRetry.js";import"./useAsync.js";import"./useHttpService.js";import"./regex.js";const E=()=>{var a;const{loading:t,value:r}=_({url:"/admin/negocios/rutas"}),{formState:o,control:i}=n();return e(m,{item:!0,xs:6,md:4,children:e(d,{control:i,label:"Ruta",options:t&&!r?["Cargando..."]:!t&&r&&r.status===201?r.data.map(s=>s.ruta):["Error al consultar las rutas"],values:!t&&r&&r.status===201?r.data.map(s=>s.id):void 0,error:!!o.errors.ruta,helperText:(a=o.errors.ruta)==null?void 0:a.message,name:"ruta"})})},R=({loading:t,value:r})=>{var a;const{formState:o,control:i}=n();return e(m,{item:!0,xs:12,sm:6,md:6,children:e(d,{control:i,label:"Itbms asignado",options:t&&!r?["Cargando..."]:!t&&r&&r.status===201?r.data.map(s=>`${p(s.nombre)} ${p(s.apellido)}`):["Error al consultar los usuarios"],values:!t&&r&&r.status===201?r.data.map(s=>s.id):void 0,error:!!o.errors.itbms_asignado_a,helperText:(a=o.errors.itbms_asignado_a)==null?void 0:a.message,name:"itbms_asignado_a"})})},j=({loading:t,value:r})=>{var a;const{formState:o,control:i}=n();return e(m,{item:!0,xs:12,sm:6,md:6,children:e(d,{control:i,label:"Seguro social asignado",options:t&&!r?["Cargando..."]:!t&&r&&r.status===201?r.data.map(s=>`${p(s.nombre)} ${p(s.apellido)}`):["Error al consultar los usuarios"],values:!t&&r&&r.status===201?r.data.map(s=>s.id):void 0,error:!!o.errors.ss_asignado_a,helperText:(a=o.errors.ss_asignado_a)==null?void 0:a.message,name:"ss_asignado_a"})})},A=()=>{const{control:t}=n(),r=h({control:t,name:"ruta"}),o=h({control:t,name:"tipo_pagos"}),[,i,a]=T();return C(()=>{(()=>{r&&r!==""&&o&&o!==""&&i(`/rutas/${r}/recorrido`,{params:{periodo:o}})})()},[r,o]),a&&r&&r!==""&&o&&o!==""?c("span",{children:["\xDAltimo recorrido de la ruta seleccionada: ",a.recorrido]}):e(f,{})},lr=()=>{var a,s;const{register:t,formState:{errors:r},control:o}=n(),i=_({url:"/admin/usuarios/ch/secre&adminis"});return c(f,{children:[e(R,{loading:i.loading,value:i.value}),e(j,{loading:i.loading,value:i.value}),e(m,{item:!0,sm:6,md:4,children:e(d,{control:o,label:"Per\xEDodo",options:S,error:!!r.tipo_pagos,helperText:(a=r.tipo_pagos)==null?void 0:a.message,name:"tipo_pagos"})}),e(E,{}),c(m,{item:!0,sm:6,md:4,children:[e($,g({label:"Recorrido",fullWidth:!0,error:!!r.recorrido,helperText:(s=r.recorrido)==null?void 0:s.message},t("recorrido"))),e(A,{})]})]})};export{lr as default};
