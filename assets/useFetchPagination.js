var D=Object.defineProperty;var v=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var L=(r,t,s)=>t in r?D(r,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[t]=s,l=(r,t)=>{for(var s in t||(t={}))G.call(t,s)&&L(r,s,t[s]);if(v)for(var s of v(t))I.call(t,s)&&L(r,s,t[s]);return r};import{r as c}from"./index.js";import{_ as J}from"./useAsyncRetry.js";import{_ as b}from"./useList.js";import{_ as j}from"./usePrevious.js";import{u as K}from"./useHttpService.js";import{i as k}from"./object.helper.js";const Z=(r,t)=>{const s=K(),[p,a]=c.exports.useState(1),[_,u]=c.exports.useState(""),d=c.exports.createRef(),[n,h]=b([]),[i,x]=b([]),[f,g]=b([]),[F,m]=c.exports.useState([]),R=j(n),C=j(i),O=()=>{var e,o;(e=d.current)!=null&&e.value&&(a(S=>1),u((o=d.current)==null?void 0:o.value))},P=c.exports.useCallback(()=>{a(e=>1),u(e=>"%%")},[]),q=e=>{a(o=>1),u(o=>e.target.value)},y=(e,o)=>{a(S=>o)},$=c.exports.useCallback(()=>{a(e=>e+10)},[]),w=c.exports.useCallback(()=>{a(e=>e-10)},[]),E=c.exports.useCallback(()=>{a(e=>1),u(e=>""),h.set(e=>[]),x.set(e=>[]),g.set(e=>[]),m(e=>[])},[]),{loading:H,value:N,error:z,retry:A}=J(async()=>{const e=Object.assign({},...n),o=Object.assign({},...f),S=Object.assign({},...i);return(!k(R,n)||!k(C,i))&&(a(B=>1),m(B=>[])),await s({url:r,params:l(l(l(l({p,q:_},t==null?void 0:t.params),e),o),S)})},[p,n,f,_,i]);return{loading:H,value:N,error:z,page:p,handlePage:y,handleSkipNext:$,handleSkipPrev:w,filterList:n,setFilter:h,orderList:f,setOrder:g,handleSearch:q,search:_,inputRef:d,sendSearch:O,filterRadioList:i,setFilterRadio:x,onClearSearch:P,retry:A,reset:E,selectedList:F,setSelectedList:m}};export{Z as u};
