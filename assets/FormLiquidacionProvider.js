import{aQ as n,r as t,f as d,a as s}from"./index.js";import{u as x}from"./useForm.js";import{d as i}from"./regex.js";import{c as l,d as a,a as o,e as p}from"./array.js";import{u as v}from"./usePrint.js";const E=l().shape({id_negocio:a().typeError("Favor ingresar el negocio").integer("Favor ingresar el negocio").positive("Favor ingresar el negocio").min(1,"Favor ingresar el negocio").required("Favor ingresar el negocio"),fecha_inicio:o().trim().typeError("Favor ingresar la fecha de inicio de labores").required("Favor ingresar la fecha de inicio de labores").test("check-fecha-inicio","Favor ingresar una fecha de inicio v\xE1lida",r=>!!(r&&!n(r))),fecha_liquidacion:o().trim().typeError("Favor ingresar la fecha de liquidaci\xF3n").required("Favor ingresar la fecha de liquidaci\xF3n").test("check-fecha-liquidaci\xF3n","Favor ingresar una fecha de liquidaci\xF3n v\xE1lida",r=>!!(r&&!n(r))),ubicacion:o().trim().typeError("Favor ingresar la ubicaci\xF3n del negocio").required("Favor ingresar la ubicaci\xF3n del negocio"),nombre:o().trim().typeError("Favor ingresar el nombre").required("Favor ingresar el nombre"),apellido:o().trim().typeError("Favor ingresar el apellido").required("Favor ingresar el apellido"),identificacion:o().trim().typeError("Favor ingresar la c\xE9dula o pasaporte").required("Favor ingresar la c\xE9dula o pasaporte"),seguro:o().trim().typeError("Favor ingresar el n\xFAmero de seguro social del empleado").required("Favor ingresar el n\xFAmero de seguro social del empleado"),nacionalidad:o().trim().typeError("Favor ingresar la nacionalidad del empleado").required("Favor ingresar la nacionalidad del empleado"),tipo_liquidacion:o().trim().typeError("Favor ingresar el motivo de liquidaci\xF3n").required("Favor ingresar el motivo de liquidaci\xF3n"),total_salarios:a().transform((r,e)=>e===""?0:r).typeError("Favor de ingresar el monto").positive("El monto debe ser un n\xFAmero positivo").min(0,"El monto debe ser mayor \xF3 igual a 0").max(9e10,"Favor ingresar un n\xFAmero de m\xE1ximo 10 d\xEDgitos").nullable(!0).test("check-decimal","Favor ingresar m\xE1ximo dos decimales",r=>!!(!r||r===0||r&&r.toString().match(i))),total_salarios_decimos:a().transform((r,e)=>e===""?0:r).typeError("Favor de ingresar el monto").positive("El monto debe ser un n\xFAmero positivo").min(0,"El monto debe ser mayor \xF3 igual a 0").max(9e10,"Favor ingresar un n\xFAmero de m\xE1ximo 10 d\xEDgitos").nullable(!0).test("check-decimal","Favor ingresar m\xE1ximo dos decimales",r=>!!(!r||r===0||r&&r.toString().match(i))),preaviso:a().typeError("Favor de ingresar el monto").transform((r,e)=>e===""?0:r).nullable(!0).when("tipo_liquidacion",{is:"Despido",then:a().typeError("Favor de ingresar el monto").positive("El monto debe ser un n\xFAmero positivo").min(0,"El monto debe ser mayor \xF3 igual a 0").max(9e10,"Favor ingresar un n\xFAmero de m\xE1ximo 10 d\xEDgitos").required("Favor de ingresar el monto").test("check-decimal","Favor ingresar m\xE1ximo dos decimales",r=>!!(r===0||r&&r.toString().match(i)))}),salarios:p().of(l().shape({salario:a().typeError("Favor de ingresar el monto").positive("El monto debe ser un n\xFAmero positivo").min(0,"El monto debe ser mayor \xF3 igual a 0").max(9e10,"Favor ingresar un n\xFAmero de m\xE1ximo 10 d\xEDgitos").required("Favor de ingresar el monto").test("check-decimal","Favor ingresar m\xE1ximo dos decimales",r=>!!(r===0||r&&r.toString().match(i))),mes:o().trim().typeError("Favor ingresar el mes del salario").required("Favor ingresar el mes del salario").test("check-fecha-liquidaci\xF3n","Favor ingresar un mes del salario v\xE1lido",r=>!!(r&&!n(r)))})).typeError("Favor ingresar los salarios").required("Favor ingresar los salarios").min(1,"Favor ingresar los salarios")}),h=()=>({defaultValue:t.exports.useMemo(()=>({id:0,id_contrato:0,id_negocio:0,ubicacion:"",nombre:"",apellido:"",identificacion:"",seguro:"",nacionalidad:"",tipo_liquidacion:"",fecha_inicio:"",fecha_liquidacion:"",decimo:"",vacaciones:"",preaviso:"",indemnizacion:"",prima_antiguedad:"",seguro_social:"",seguro_educativo:"",total_salarios:"",total_salarios_decimos:"",fecha_enviado:"",fecha_creacion:"",salarios:[]}),[])}),f=t.exports.createContext({}),q=({children:r})=>{const e=d();return s(f.Provider,{value:{fetcherSalarios:e},children:r})},y=t.exports.createContext({}),D=({children:r,defaultValue:e,negocio:c})=>{const{defaultValue:m}=h(),g=d(),u=x(e||m,E),F=v({pageStyle:"@page { margin: 0 !important; }"});return s(y.Provider,{value:{fetcher:g,form:u,defaultValue:e,negocio:c,printer:F},children:s(q,{children:r})})};export{D as F,f as S,y as a};
