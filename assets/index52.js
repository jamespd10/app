var x=Object.defineProperty;var g=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var f=(t,n,e)=>n in t?x(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,_=(t,n)=>{for(var e in n||(n={}))C.call(n,e)&&f(t,e,n[e]);if(g)for(var e of g(n))k.call(n,e)&&f(t,e,n[e]);return t};import{a as o,aw as N,r as l,j as c,F as T}from"./index.js";import{T as d}from"./index18.js";import{f as p}from"./string.helper.js";import{d as S,a as y}from"./SkipNextOutlined.js";import{I as u}from"./IconButton.js";import{P as I}from"./Pagination.js";import{L as $}from"./Loader.js";import{T as F}from"./TextInput.js";import{d as M}from"./Search.js";import{d as B}from"./Close2.js";import{F as E}from"./Fade.js";import{C as v}from"./ErrorIcon.js";import"./HeaderTitle.js";import"./Typography.js";import"./Divider.js";import"./StyledSpeedDial.js";import"./Assignment.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./useId.js";import"./useControlled.js";import"./useIsFocusVisible.js";import"./FabButtonAction.js";import"./react-is.production.min.js";import"./AssignmentRounded.js";import"./ButtonBase.js";import"./emotion-react.browser.esm.js";import"./Tooltip.js";import"./Popper.js";import"./Portal.js";import"./isHostComponent.js";import"./Grow.js";import"./SpeedDial.module.js";import"./Backdrop.js";import"./Stack.js";import"./Paid.js";import"./regex.js";import"./Grid.js";import"./CircularProgress.js";import"./TextField.js";import"./useFormControl.js";import"./formControlState.js";import"./Modal2.js";import"./Paper.js";import"./List.js";import"./outlinedInputClasses.js";import"./GlobalStyles.js";import"./StyledGridOverlay.js";import"./Box.js";const z="_container_1klas_1",P="_pagination_1klas_7",w="_response_1klas_14",A="_table_1klas_19",R="_header_1klas_24",j="_row_1klas_39",D="_column_1klas_39",L="_selected_1klas_56",O="_checkboxColumn_1klas_60",V="_columnCenter_1klas_65",H="_removeSpacing_1klas_69",W="_message_1klas_74",q="_columnIcon_1klas_79",G="_iconButton_1klas_83",J="_total_1klas_87",K="_totalError_1klas_88";var a={container:z,pagination:P,response:w,table:A,header:R,row:j,column:D,selected:L,checkboxColumn:O,columnCenter:V,removeSpacing:H,message:W,columnIcon:q,iconButton:G,total:J,totalError:K};const Q=t=>Number(t.total)<0?o("td",{className:`${a.column} ${a.totalError}`,children:p(t.total)}):o("td",{className:`${a.column} ${a.total}`,children:p(t.total)}),U=t=>t.fecha_enviado?o("td",{className:a.column,children:N(t.fecha_enviado,"dd/MM/yyyy h:mm aaaa")}):o("td",{className:a.column}),X=()=>{const{pagination:t}=l.exports.useContext(d),{fetcher:n}=t,[,,e]=n;return o("tbody",{children:e==null?void 0:e.resultados.map(r=>c("tr",{className:`${a.row}`,children:[o("td",{className:a.column,children:r.nom_cliente}),o("td",{className:a.column,children:r.ruc}),c("td",{className:a.column,children:[r.tipo," ",r.nombre_negocio]}),o("td",{className:a.column,children:N(r.mes_correspondiente,"MM/yyyy")}),o(Q,_({},r)),o("td",{className:a.column,children:p(Number(r.venta_7)+Number(r.venta_10)+Number(r.venta_15))}),o("td",{className:a.column,children:p(Number(r.compra_7)+Number(r.compra_10)+Number(r.compra_15)+Number(r.compra_import))}),o("td",{className:a.column,children:p(r.retencion)}),o(U,_({},r))]},`${r.id}-${r.id_negocio}`))})},Y=()=>o("thead",{className:a.header,children:c("tr",{children:[o("th",{children:"Raz\xF3n social"}),o("th",{children:"Ruc"}),o("th",{children:"Negocio"}),o("th",{children:"Mes"}),o("th",{children:"Total A Pagar"}),o("th",{children:"ITBMS DE Ventas"}),o("th",{children:"ITBMS DE Compras"}),o("th",{children:"ITBMS DE Retenciones"}),o("th",{children:"Facturado"})]})}),Z=()=>{const{pagination:t}=l.exports.useContext(d),{fetcher:n,page:e,setPage:r}=t,[,,s]=n;return c("div",{className:a.pagination,children:[o(u,{size:"small",onClick:()=>r(e-10),disabled:e<=10,children:o(S,{})}),o(I,{color:"primary",count:s==null?void 0:s.paginas,page:e,onChange:(h,b)=>r(b)}),o(u,{size:"small",onClick:()=>r(e+10),disabled:!!(s&&s.paginas-t.page<10),children:o(y,{})})]})},oo=()=>o("div",{className:a.loader,children:o($,{margin:20})}),eo="_toolbar_1pm2e_1",to="_title_1pm2e_7",ro="_divToolbar_1pm2e_13",no="_child_1pm2e_20",ao="_formSearch_1pm2e_24",so="_searchAdorment_1pm2e_28",co="_banner_1pm2e_34";var m={toolbar:eo,title:to,divToolbar:ro,child:no,formSearch:ao,searchAdorment:so,banner:co};const lo=()=>{const t=l.exports.useRef(null),{pagination:n}=l.exports.useContext(d),{search:e,sendSearch:r}=n,[s,h]=l.exports.useState(e);return o("form",{onSubmit:i=>{i.preventDefault(),r(s)},className:m.formSearch,children:o(F,{label:"Buscar...",size:"small",fullWidth:!0,autoFocus:!0,value:s,onChange:i=>h(i.target.value),inputRef:t,helperText:"Por raz\xF3n social, ruc, negocio o mes. Ejm: 12-2022",InputProps:{endAdornment:c("div",{className:m.searchAdorment,children:[o(u,{size:"small",children:o(M,{})}),s!==""&&o(u,{size:"small",onClick:()=>{var i;h(""),r(""),(i=t==null?void 0:t.current)==null||i.focus()},children:o(B,{})})]})}})})},io=()=>{const{pagination:t}=l.exports.useContext(d),{selected:n}=t,e=l.exports.useMemo(()=>n.length,[n]);return c(T,{children:[c("div",{className:m.toolbar,children:[o("span",{className:m.title,children:"Formularios 430 - ITBMS realizados"}),o("div",{className:m.divToolbar,children:o(lo,{})})]}),o(E,{in:e!==0,unmountOnExit:!0,children:c("div",{className:m.banner,children:[e," fila",e>1?"s":""," seleccionada",e>1?"s":""]})})]})},mo=()=>{const{pagination:t}=l.exports.useContext(d),{fetcher:n}=t,[,,,e]=n;return o("div",{className:a.message,children:o(v,{label:e==null?void 0:e.message})})},le=()=>{const{pagination:t}=l.exports.useContext(d),{fetcher:n}=t,[e,,r,s]=n;return c("div",{className:a.container,children:[o(io,{}),o("div",{className:a.response,children:c("table",{className:a.table,children:[o(Y,{}),o(X,{})]})}),e&&o(oo,{}),!e&&s&&!r&&o(mo,{}),!e&&r&&!s&&o(Z,{})]})};export{le as default};
