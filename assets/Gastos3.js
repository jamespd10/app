var ge=Object.defineProperty,he=Object.defineProperties;var ue=Object.getOwnPropertyDescriptors;var ie=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ve=Object.prototype.propertyIsEnumerable;var ne=(o,t,a)=>t in o?ge(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a,r=(o,t)=>{for(var a in t||(t={}))fe.call(t,a)&&ne(o,a,t[a]);if(ie)for(var a of ie(t))ve.call(t,a)&&ne(o,a,t[a]);return o},c=(o,t)=>he(o,ue(t));import{r as xe,j as n,a as l,F as be}from"./index.js";import{u as Ne,j as ye,e as $e}from"./array.js";import{s as g}from"./formulario.module.js";import{T as p}from"./TextInput.js";import{D as Ie}from"./DecimalInput.js";import{f as _e}from"./string.helper.js";import{a as ke}from"./itbmsSchema.js";import{B as me}from"./Button.js";import"./upperFirst.js";import"./TextField.js";import"./useControlled.js";import"./react-is.production.min.js";import"./Modal2.js";import"./Backdrop.js";import"./isHostComponent.js";import"./Portal.js";import"./Paper.js";import"./Grow.js";import"./List.js";import"./createSvgIcon.js";import"./GlobalStyles.js";import"./emotion-react.browser.esm.js";import"./CustomDecimal.js";import"./react-number-format.es.js";import"./CircularProgress.js";import"./regex.js";import"./Lazy.js";import"./ButtonBase.js";import"./useIsFocusVisible.js";const Te="_container_dmktn_1",Ce="_fields_dmktn_15",Fe="_child_dmktn_22";var i={container:Te,fields:Ce,child:Fe};const lo=({i:o})=>{const{editable:t}=xe.exports.useContext(ke),{control:a,formState:re,register:d}=Ne(),{fields:h,append:ce,remove:de}=ye({control:a,name:`negocios.${o}.gastos`,keyName:"key"}),pe=$e({control:a,name:`negocios.${o}.gastos`}),{errors:e}=re;return n("div",{className:g.paper,children:[l("span",{className:g.titleItem,children:"Gastos varios mensuales"}),h.map((m,s)=>{var u,f,v,x,b,N,y,$,I,_,k,T,C,F,W,z,O,P,D,A,G,B,R,M,S,U,V,q,w,E,H,J,K,L,Q,X,Y,Z,j,ee,oe,te,se,ae,le;return n("fieldset",{className:i.container,children:[n("legend",{children:["Gasto #",o+1]}),n("div",{className:i.fields,children:[l("div",{className:i.child,children:l(p,c(r({label:"Descripci\xF3n",fullWidth:!0,error:!!((x=(v=(f=(u=e==null?void 0:e.negocios)==null?void 0:u[o])==null?void 0:f.gastos)==null?void 0:v[s])!=null&&x.texto),helperText:(I=($=(y=(N=(b=e==null?void 0:e.negocios)==null?void 0:b[o])==null?void 0:N.gastos)==null?void 0:y[s])==null?void 0:$.texto)==null?void 0:I.message},d(`negocios.${o}.gastos.${s}.texto`)),{size:"small",InputProps:{readOnly:!t}}))}),l("div",{className:i.child,children:l(p,c(r({label:"Nombre",fullWidth:!0,error:!!((C=(T=(k=(_=e==null?void 0:e.negocios)==null?void 0:_[o])==null?void 0:k.gastos)==null?void 0:T[s])!=null&&C.nombre),helperText:(P=(O=(z=(W=(F=e==null?void 0:e.negocios)==null?void 0:F[o])==null?void 0:W.gastos)==null?void 0:z[s])==null?void 0:O.nombre)==null?void 0:P.message},d(`negocios.${o}.gastos.${s}.nombre`)),{size:"small",InputProps:{readOnly:!t}}))}),l("div",{className:i.child,children:l(p,c(r({label:"RUC",fullWidth:!0,error:!!((B=(G=(A=(D=e==null?void 0:e.negocios)==null?void 0:D[o])==null?void 0:A.gastos)==null?void 0:G[s])!=null&&B.ruc),helperText:(V=(U=(S=(M=(R=e==null?void 0:e.negocios)==null?void 0:R[o])==null?void 0:M.gastos)==null?void 0:S[s])==null?void 0:U.ruc)==null?void 0:V.message},d(`negocios.${o}.gastos.${s}.ruc`)),{size:"small",InputProps:{readOnly:!t}}))}),l("div",{className:i.child,children:l(p,c(r({label:"DV",fullWidth:!0,error:!!((H=(E=(w=(q=e==null?void 0:e.negocios)==null?void 0:q[o])==null?void 0:w.gastos)==null?void 0:E[s])!=null&&H.dv),helperText:(X=(Q=(L=(K=(J=e==null?void 0:e.negocios)==null?void 0:J[o])==null?void 0:K.gastos)==null?void 0:L[s])==null?void 0:Q.dv)==null?void 0:X.message},d(`negocios.${o}.gastos.${s}.dv`)),{size:"small",InputProps:{readOnly:!t}}))}),l("div",{className:i.child,children:l(Ie,{label:"Total",name:`negocios.${o}.gastos.${s}.valor`,fullWidth:!0,error:!!((ee=(j=(Z=(Y=e==null?void 0:e.negocios)==null?void 0:Y[o])==null?void 0:Z.gastos)==null?void 0:j[s])!=null&&ee.valor),helperText:(le=(ae=(se=(te=(oe=e==null?void 0:e.negocios)==null?void 0:oe[o])==null?void 0:te.gastos)==null?void 0:se[s])==null?void 0:ae.valor)==null?void 0:le.message,size:"small",InputProps:{readOnly:!t}})})]})]},m.key)}),n("span",{className:g.titleItem,children:["total de gastos"," ",_e(pe.map(m=>Number(m.valor||0)).reduce((m,s)=>m+s))]}),!!t&&n(be,{children:[l(me,{variant:"contained",color:"primary",onClick:()=>ce({dv:"",nombre:"",ruc:"",texto:"",valor:""}),children:"Agregar gasto"}),h.length>1&&l(me,{variant:"contained",color:"error",onClick:()=>de(-1),children:"Remover \xFAltimo gasto"})]})]})};export{lo as default};
