import{ap as d,r as T,j as e,a as t,F as m}from"./index.js";import{L as w}from"./Loader.js";import"./BootstrapTooltip.js";import{u as j}from"./useFirstFetch.js";import"./SpeedDial.module.js";import"./Modal.js";import"./SelectedCard.js";import{f as n}from"./string.helper.js";import{u as C}from"./yup.module.js";import{S as B}from"./index30.js";import{P as D}from"./Paper.js";import{T as a}from"./Typography.js";import{D as i}from"./Divider.js";import{A as u}from"./Alert.js";import"./Grid.js";import"./CircularProgress.js";import"./emotion-react.browser.esm.js";import"./Tooltip.js";import"./Popper.js";import"./Portal.js";import"./useIsFocusVisible.js";import"./isHostComponent.js";import"./Grow.js";import"./useControlled.js";import"./useId.js";import"./useAsyncRetry.js";import"./useHttpService.js";import"./Close2.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./DialogTitle.js";import"./dialogTitleClasses.js";import"./ModalTransition.js";import"./Backdrop.js";import"./Fade.js";import"./Modal2.js";import"./IconButton.js";import"./ButtonBase.js";import"./Warning.js";import"./Error.js";import"./CheckCircle.js";import"./DialogContent.js";import"./DialogActions.js";import"./LoadingButton.js";import"./Button.js";import"./regex.js";import"./useFetchPagination.js";import"./useList.js";import"./usePrevious.js";import"./object.helper.js";import"./Close.js";const Ct=()=>{var p;const{id:g,cliente:h}=d(),c=T.exports.useContext(B),{factura:o}=d(),{loading:l,value:r}=j({url:`/admin/negocios/${g}/${c.cliente?c.cliente.id:h}/fact-alterna/datos`,params:{tipo_factura:o==null?void 0:o.toUpperCase()}}),{watch:s}=C(),f=s("aviso"),v=s("renta_natural"),y=s("renta_juridica"),x=s("monto_ventas"),_=s("seguro_educativo"),b=s("impuesto_complementario");return e(D,{variant:"outlined",sx:{p:1,mt:1},children:[l&&t(w,{}),!l&&r&&r.status!==201&&t("div",{style:{display:"flex",width:"100%",justifyContent:"center",textAlign:"center"},children:t(a,{variant:"h5",children:(p=r.error)==null?void 0:p.message})}),!l&&r&&r.status===201&&r.data&&e("div",{style:{display:"flex",flexDirection:"column",width:"100%"},children:[t(a,{variant:"h5",style:{fontWeight:"bold",color:"green"},children:r.data.nombre_negocio}),t(i,{style:{marginTop:10,marginBottom:10}}),e(a,{variant:"subtitle1",children:[t("strong",{children:"Cliente:"})," ",t("span",{style:{textTransform:"uppercase"},children:r.data.nom_cliente})]}),t(i,{style:{marginTop:10,marginBottom:10}}),e(a,{variant:"subtitle1",children:[t("strong",{children:"RUC:"})," ",r.data.ruc," ",t("strong",{style:{marginLeft:10},children:"DV:"})," ",r.data.dv]}),t(i,{style:{marginTop:10,marginBottom:10}}),e(a,{variant:"subtitle1",children:[t("strong",{children:"Representante:"})," ",r.data.representante]}),t(i,{style:{marginTop:10,marginBottom:10}}),e(a,{variant:"subtitle1",children:[t("strong",{children:"Ruta:"})," ",r.data.ruta]}),t(i,{style:{marginTop:10,marginBottom:10}}),o!=="renta"&&e(a,{variant:"subtitle1",children:[t("strong",{children:"Total de ingresos:"})," ",n(r.data.total_ingresos)]}),o==="renta"&&e(m,{children:[e("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between"},children:[e(a,{variant:"subtitle1",children:[t("strong",{children:"Monto en ventas:"})," ",n(x||r.data.monto_ventas)]}),e(a,{variant:"subtitle1",children:[t("strong",{children:"Aviso:"})," ",n(f||r.data.aviso)]})]}),t(i,{style:{marginTop:10,marginBottom:10}}),e("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between"},children:[e(a,{variant:"subtitle1",children:[t("strong",{children:"Renta natural:"})," ",n(v||r.data.renta_natural)]}),e(a,{variant:"subtitle1",children:[t("strong",{children:"Seguro educativo:"})," ",n(_||r.data.seguro_educativo)]})]}),t(i,{style:{marginTop:10,marginBottom:10}}),e("div",{style:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"space-between"},children:[e(a,{variant:"subtitle1",children:[t("strong",{children:"Renta jur\xEDdica:"})," ",n(y||r.data.renta_juridica)]}),e(a,{variant:"subtitle1",children:[t("strong",{children:"Impuesto complementario:"})," ",n(b||r.data.impuesto_complementario)]})]})]}),r.data.total_facturas_alternas>0?e(m,{children:[t(i,{style:{marginTop:10,marginBottom:10}}),e(u,{severity:"error",variant:"outlined",children:["El negocio seleccionado tiene un total de"," ",t("strong",{children:r.data.total_facturas_alternas})," factura",r.data.total_facturas_alternas===1?"":"s"," (",t("strong",{style:{textTransform:"uppercase"},children:o}),") realizada",r.data.total_facturas_alternas===1?"":"s"," ","en el a\xF1o actual"]})]}):e(m,{children:[t(i,{style:{marginTop:10,marginBottom:10}}),e(u,{severity:"success",variant:"outlined",children:["El negocio seleccionado no tiene facturas (",t("strong",{style:{textTransform:"uppercase"},children:o}),") realizadas en el a\xF1o actual"]})]})]})]})};export{Ct as default};
