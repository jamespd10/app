var N=Object.defineProperty;var f=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var g=(t,n,e)=>n in t?N(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e,p=(t,n)=>{for(var e in n||(n={}))x.call(n,e)&&g(t,e,n[e]);if(f)for(var e of f(n))C.call(n,e)&&g(t,e,n[e]);return t};import{r as c,a as o,aw as y,j as i,F as T}from"./index.js";import{T as l}from"./index18.js";import{f as u}from"./string.helper.js";import{d as $}from"./Visibility.js";import{d as S}from"./Edit.js";import{d as I,a as F}from"./SkipNextOutlined.js";import{I as h}from"./IconButton.js";import{P as v}from"./Pagination.js";import{L as B}from"./Loader.js";import{T as k}from"./TextInput.js";import{d as z}from"./Search.js";import{d as E}from"./Close2.js";import{F as M}from"./Backdrop.js";import{C as P}from"./ErrorIcon.js";import"./HeaderTitle.js";import"./Typography.js";import"./Divider.js";import"./StyledSpeedDial.js";import"./Assignment.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./useControlled.js";import"./useIsFocusVisible.js";import"./FabButtonAction.js";import"./react-is.production.min.js";import"./AssignmentRounded.js";import"./ButtonBase.js";import"./emotion-react.browser.esm.js";import"./Tooltip.js";import"./Popper.js";import"./Portal.js";import"./appendOwnerState.js";import"./isHostComponent.js";import"./Grow.js";import"./ContentProvider.js";import"./useModal.js";import"./SpeedDial.module.js";import"./Stack.js";import"./Paid.js";import"./regex.js";import"./Grid.js";import"./CircularProgress.js";import"./TextField.js";import"./Modal2.js";import"./Paper.js";import"./List.js";import"./GlobalStyles.js";import"./StyledGridOverlay.js";import"./Box.js";const w="_container_uyr9b_1",R="_pagination_uyr9b_7",A="_response_uyr9b_14",j="_table_uyr9b_19",V="_header_uyr9b_24",L="_row_uyr9b_39",O="_column_uyr9b_39",D="_selected_uyr9b_51",H="_checkboxColumn_uyr9b_55",W="_columnCenter_uyr9b_60",q="_removeSpacing_uyr9b_64",G="_message_uyr9b_69",J="_columnIcon_uyr9b_74",K="_iconButton_uyr9b_78",Q="_total_uyr9b_82",U="_totalError_uyr9b_83";var a={container:w,pagination:R,response:A,table:j,header:V,row:L,column:O,selected:D,checkboxColumn:H,columnCenter:W,removeSpacing:q,message:G,columnIcon:J,iconButton:K,total:Q,totalError:U};const X=t=>{const{pagination:n}=c.exports.useContext(l),{currentValue:e}=n,[,r]=e;return t.fecha_enviado?o($,{className:a.iconButton,onClick:()=>r(t)}):o(S,{className:a.iconButton,onClick:()=>r(t)})},Y=t=>Number(t.total)<0?o("td",{className:`${a.column} ${a.totalError}`,children:u(t.total)}):o("td",{className:`${a.column} ${a.total}`,children:u(t.total)}),Z=t=>t.fecha_enviado?o("td",{className:a.column,children:y(t.fecha_enviado,"dd/MM/yyyy h:mm aaaa")}):o("td",{className:a.column}),oo=()=>{const{pagination:t}=c.exports.useContext(l),{fetcher:n}=t,[,,e]=n;return o("tbody",{children:e==null?void 0:e.resultados.map(r=>i("tr",{className:`${a.row}`,children:[o("td",{className:`${a.column} ${a.columnIcon}`,children:o(X,p({},r))}),o("td",{className:a.column,children:r.nom_cliente}),o("td",{className:a.column,children:r.ruc}),i("td",{className:a.column,children:[r.tipo," ",r.nombre_negocio]}),o(Y,p({},r)),o("td",{className:a.column,children:u(r.compras)}),o("td",{className:a.column,children:u(r.ventas)}),o("td",{className:a.column,children:u(r.retenciones)}),o("td",{className:a.column,children:y(r.mes_correspondiente,"MM/yyyy")}),o(Z,p({},r))]},`${r.id}-${r.id_negocio}`))})},eo=()=>o("thead",{className:a.header,children:i("tr",{children:[o("th",{}),o("th",{children:"Raz\xF3n social"}),o("th",{children:"Ruc"}),o("th",{children:"Negocio"}),o("th",{children:"Total"}),o("th",{children:"Compras"}),o("th",{children:"Ventas"}),o("th",{children:"Retenciones"}),o("th",{children:"Mes"}),o("th",{children:"Facturado"})]})}),to=()=>{const{pagination:t}=c.exports.useContext(l),{fetcher:n,page:e,setPage:r}=t,[,,s]=n;return i("div",{className:a.pagination,children:[o(h,{size:"small",onClick:()=>r(e-10),disabled:e<=10,children:o(I,{})}),o(v,{color:"primary",count:s==null?void 0:s.paginas,page:e,onChange:(_,b)=>r(b)}),o(h,{size:"small",onClick:()=>r(e+10),disabled:!!(s&&s.paginas-t.page<10),children:o(F,{})})]})},ro=()=>o("div",{className:a.loader,children:o(B,{margin:20})}),no="_toolbar_1pm2e_1",ao="_title_1pm2e_7",so="_divToolbar_1pm2e_13",co="_child_1pm2e_20",io="_formSearch_1pm2e_24",lo="_searchAdorment_1pm2e_28",mo="_banner_1pm2e_34";var d={toolbar:no,title:ao,divToolbar:so,child:co,formSearch:io,searchAdorment:lo,banner:mo};const uo=()=>{const t=c.exports.useRef(null),{pagination:n}=c.exports.useContext(l),{search:e,sendSearch:r}=n,[s,_]=c.exports.useState(e);return o("form",{onSubmit:m=>{m.preventDefault(),r(s)},className:d.formSearch,children:o(k,{label:"Buscar...",size:"small",fullWidth:!0,autoFocus:!0,value:s,onChange:m=>_(m.target.value),inputRef:t,helperText:"Por raz\xF3n social, ruc, negocio o mes. Ejm: 12-2022",InputProps:{endAdornment:i("div",{className:d.searchAdorment,children:[o(h,{size:"small",children:o(z,{})}),s!==""&&o(h,{size:"small",onClick:()=>{var m;_(""),r(""),(m=t==null?void 0:t.current)==null||m.focus()},children:o(E,{})})]})}})})},po=()=>{const{pagination:t}=c.exports.useContext(l),{selected:n}=t,e=c.exports.useMemo(()=>n.length,[n]);return i(T,{children:[i("div",{className:d.toolbar,children:[o("span",{className:d.title,children:"Formularios 430 - ITBMS realizados"}),o("div",{className:d.divToolbar,children:o(uo,{})})]}),o(M,{in:e!==0,unmountOnExit:!0,children:i("div",{className:d.banner,children:[e," fila",e>1?"s":""," seleccionada",e>1?"s":""]})})]})},ho=()=>{const{pagination:t}=c.exports.useContext(l),{fetcher:n}=t,[,,,e]=n;return o("div",{className:a.message,children:o(P,{label:e==null?void 0:e.message})})},de=()=>{const{pagination:t}=c.exports.useContext(l),{fetcher:n}=t,[e,,r,s]=n;return i("div",{className:a.container,children:[o(po,{}),o("div",{className:a.response,children:i("table",{className:a.table,children:[o(eo,{}),o(oo,{})]})}),e&&o(ro,{}),!e&&s&&!r&&o(ho,{}),!e&&r&&!s&&o(to,{})]})};export{de as default};
