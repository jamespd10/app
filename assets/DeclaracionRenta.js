import{d as I}from"./Clear.js";import{L as T}from"./Loader.js";import{T as D}from"./TextInput.js";import{u as S,s as o}from"./facturaDashboard.js";import{f as i}from"./string.helper.js";import{C as c}from"./ChipState.js";import{ap as A,j as a,a as r,F as d,r as v}from"./index.js";import{z as f}from"./date.helper.js";import{P as p}from"./Paper.js";import{T as h}from"./Typography.js";import{I as B}from"./InputAdornment.js";import{I as j}from"./IconButton.js";import{D as t}from"./Divider.js";import"./jsx-runtime_commonjs-proxy.js";import"./createSvgIcon.js";import"./useId.js";import"./useControlled.js";import"./useIsFocusVisible.js";import"./Grid.js";import"./CircularProgress.js";import"./emotion-react.browser.esm.js";import"./TextField.js";import"./useFormControl.js";import"./formControlState.js";import"./react-is.production.min.js";import"./Modal2.js";import"./Backdrop.js";import"./Fade.js";import"./isHostComponent.js";import"./Portal.js";import"./Grow.js";import"./List.js";import"./outlinedInputClasses.js";import"./GlobalStyles.js";import"./useAsyncRetry.js";import"./useHttpService.js";import"./regex.js";import"./CheckCircle.js";import"./Error.js";import"./Chip.js";import"./ButtonBase.js";const xr=()=>{var u,g;const{id:_,cliente:x}=A(),{value:e,loading:m,setSearch:b,onClearSearch:y,onChange:N,inputValue:F}=S({url:`/admin/negocios/${_}/${x}/facturas/RENTA`});return a(p,{variant:"outlined",style:{padding:10,border:"3px solid blue",minHeight:"100%"},children:[r(h,{variant:"h6",style:{marginBottom:10,fontWeight:"bold"},children:"\xDAltima declaraci\xF3n de renta"}),r("form",{onSubmit:n=>{n.preventDefault(),b(n.target[0].value)},children:r(D,{label:"Buscar por fecha. Ejm: 31-01-2020",fullWidth:!0,onChange:N,value:F,InputProps:{endAdornment:r(B,{position:"end",children:r(j,{onClick:y,children:r(I,{})})})}})}),m&&r(T,{}),!m&&e&&e.status!==201&&e.error&&r("div",{style:{display:"flex",justifyContent:"center",textAlign:"center"},children:r("strong",{children:e.error.message})}),!m&&e&&e.status===201&&e.data&&a("div",{style:{display:"flex",flexDirection:"column",marginTop:10},children:[a("div",{style:o,children:[r("strong",{children:"Fecha: "}),f(`${e.data.mes_correspondiente}`,"dd/MM/yy h:mm a")]}),r(t,{}),e.data.negocio_referencia&&a(d,{children:[a("div",{style:o,children:[r("strong",{children:"Negocio referencia: "}),e.data.negocio_referencia]}),r(t,{})]}),e.data.personal&&a(d,{children:[a("div",{style:o,children:[r("strong",{children:"Personal: "}),e.data.personal]}),r(t,{})]}),a("div",{style:o,children:[r("strong",{children:"Declaraci\xF3n de renta: "}),i(e.data.declaracion_renta)]}),r(t,{}),e.data.monto_ventas>0&&a(d,{children:[a("div",{style:o,children:[r("strong",{children:"Monto en ventas: "}),i(e.data.monto_ventas)]}),r(t,{})]}),e.data.aviso>0&&a(d,{children:[a("div",{style:o,children:[r("strong",{children:"Aviso: "}),i(e.data.aviso)]}),r(t,{})]}),e.data.renta_natural>0&&a(d,{children:[a("div",{style:o,children:[r("strong",{children:"Renta natural: "}),i(e.data.renta_natural)]}),r(t,{})]}),e.data.seguro_educativo>0&&a(d,{children:[a("div",{style:o,children:[r("strong",{children:"Seguro Educativo: "}),i(e.data.seguro_educativo)]}),r(t,{})]}),e.data.renta_juridica>0&&a(d,{children:[a("div",{style:o,children:[r("strong",{children:"Renta jur\xEDdica: "}),i(e.data.renta_juridica)]}),r(t,{})]}),e.data.impuesto_complementario>0&&a(d,{children:[a("div",{style:o,children:[r("strong",{children:"Impuesto complementario: "}),i(e.data.impuesto_complementario)]}),r(t,{})]}),((u=e.data.otros_impuestos)==null?void 0:u.length)>0&&a(p,{variant:"outlined",style:{padding:10,marginTop:10},children:[r(h,{variant:"h6",children:"Otros impuestos"}),r(t,{}),e.data.otros_impuestos.map((n,s)=>{var l;return a(v.exports.Fragment,{children:[a("div",{style:o,children:[a("strong",{children:[n.texto,": "]}),i(n.valor)]}),e&&e.data&&s<((l=e.data)==null?void 0:l.otros_impuestos.length)-1&&r(t,{})]},n.id)})]}),a("div",{style:o,children:[r("strong",{children:"Total: "}),i(e.data.total)]}),r(t,{}),a("div",{style:o,children:[r("strong",{children:"Total cobrado: "}),i(e.data.total_cobrado)]}),r(t,{}),a("div",{style:o,children:[r("strong",{children:"Impresa: "}),r(c,{label:e.data.fecha_impresion?"SI":"NO",color:e.data.fecha_impresion?"success":"error"})]}),r(t,{}),a("div",{style:o,children:[r("strong",{children:"\xBFSe present\xF3 a la DGI?: "}),r(c,{label:Boolean(Number(e.data.presentada))?"SI":"NO",color:Boolean(Number(e.data.presentada))?"success":"error"})]}),r(t,{}),a("div",{style:o,children:[r("strong",{children:"Vigente: "}),r(c,{label:Boolean(Number(e.data.anulada))?"ANULADA":"VIGENTE",color:Boolean(Number(e.data.anulada))?"error":"success"})]}),r(t,{}),a("div",{style:o,children:[r("strong",{children:"\xBFSe regres\xF3?: "}),r(c,{label:Boolean(Number(e.data.regreso))?"SI":"NO",color:Boolean(Number(e.data.regreso))?"success":"error"})]}),r(t,{}),a("div",{style:o,children:[r("strong",{children:"Tipo de pago: "}),e.data.tipo_pago||"NO PAGADO"]}),e.data.notas&&a(d,{children:[r(t,{}),a("div",{style:o,children:[r("strong",{children:"Notas: "}),e.data.notas]})]}),((g=e.data.regresos)==null?void 0:g.length)>0&&a(p,{variant:"outlined",style:{padding:10,marginTop:10},children:[r(h,{variant:"h6",children:"Fechas de regresos"}),r(t,{}),e.data.regresos.map((n,s)=>{var l;return a(v.exports.Fragment,{children:[a("div",{style:o,children:[a("strong",{children:["Regreso ",s+1,": "]}),f(`${new Date(n.fecha)}`,"dd/MM/yy h:mm a")]}),e&&e.data&&s<((l=e.data)==null?void 0:l.regresos.length)-1&&r(t,{})]},n.id)})]})]})]})};export{xr as default};
