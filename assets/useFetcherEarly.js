var k=Object.defineProperty;var p=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var d=(r,e,t)=>e in r?k(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,h=(r,e)=>{for(var t in e||(e={}))F.call(e,t)&&d(r,t,e[t]);if(p)for(var t of p(e))v.call(e,t)&&d(r,t,e[t]);return r};import{aj as E,r as s}from"./index.js";const w=(r,e)=>{const{method:t,data:x,params:i}=e||{},f=E(),c=s.exports.useMemo(()=>new AbortController,[]),m=s.exports.useMemo(()=>c.signal,[c]),[b,y]=s.exports.useState(0),[l,a]=s.exports.useState({data:null,error:null}),C=s.exports.useCallback(()=>{a({data:null,error:null}),y(o=>o+1)},[l]),R=s.exports.useCallback(o=>{a({data:o,error:null})},[]),u=s.exports.useCallback(()=>{n(()=>!1),a({data:null,error:null})},[]),[S,n]=s.exports.useState(!1);return s.exports.useEffect(()=>((()=>{n(()=>!0),f(r,{method:t,data:x,params:i,signal:m}).then(g=>{a(h({},g))}).finally(()=>n(()=>!1))})(),()=>{u()}),[b]),[S,l.data,l.error,C,R,u]};export{w as u};
