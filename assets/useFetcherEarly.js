import{ax as g,r as e}from"./index.js";const E=(p,x)=>{const{method:d,data:h,params:i}=x||{},f=g(),o=e.exports.useMemo(()=>new AbortController,[]),b=e.exports.useMemo(()=>o.signal,[o]),[m,S]=e.exports.useState(0),[l,t]=e.exports.useState(null),[c,a]=e.exports.useState(null),y=e.exports.useCallback(()=>{t(null),a(null),S(s=>s+1)},[l,c]),C=e.exports.useCallback(s=>{t(()=>s)},[]),u=e.exports.useCallback(()=>{n(()=>!1),t(()=>null),a(()=>null)},[]),[R,n]=e.exports.useState(!1);return e.exports.useEffect(()=>((()=>{n(()=>!0),f(p,{method:d,data:h,params:i,signal:b}).then(r=>{r.data?t(r.data):r.error&&a(r.error)}).finally(()=>n(()=>!1))})(),()=>{o.abort(),u()}),[m]),[R,l,c,y,C,u]};export{E as u};
