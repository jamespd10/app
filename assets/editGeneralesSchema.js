var j=Object.defineProperty,z=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var W=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var N=(r,t,o)=>t in r?j(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,m=(r,t)=>{for(var o in t||(t={}))$.call(t,o)&&N(r,o,t[o]);if(W)for(var o of W(t))B.call(t,o)&&N(r,o,t[o]);return r},h=(r,t)=>z(r,U(t));import{r as p,a as e,j as f,b as H,F as V}from"./index.js";import{u as b,a as _,C as J,c as K,b as l,f as M}from"./array.js";import{P as Q}from"./PhoneInput.js";import{S as E}from"./SelectHookForm.js";import{T as x}from"./TextInput.js";import{t as G,a as y,n as X}from"./constantsLists.js";import{N as Y}from"./Nacionalidad.js";import{D as q,a as Z}from"./DireccionProvider.js";import{A as R}from"./AutocompleteServer.js";import{d as C,a as T}from"./CheckBoxOutlineBlank.js";import{G as s}from"./Grid.js";import{C as F}from"./Checkbox.js";import{T as g}from"./Typography.js";import{F as ee}from"./FormGroup.js";import{F as re}from"./FormControlLabel.js";import{t as ie}from"./string.helper.js";import{r as te,e as oe,f as ae,g as ne,n as L,t as le}from"./regex.js";const se=()=>{const{control:r,setValue:t}=b(),o=_({control:r,name:"provincia"}),{provincia:u,setProvincia:i}=p.exports.useContext(q);return p.exports.useEffect(()=>{o&&i({id:0,provincia:o})},[]),e(s,{item:!0,xs:12,sm:6,md:3,children:e(R,{ref:null,inputProps:{label:"Provincia"},disableStyle:!0,enableFirst:!0,value:u,onChange:(d,a)=>{i(a),a?t("provincia",a.provincia):t("provincia","")},isOptionEqualToValue:(d,a)=>d.id===a.id,urlFetch:"/provincias",getOptionLabel:d=>d.provincia,renderOption:(d,a,{selected:n})=>p.exports.createElement("li",h(m({},d),{key:a.id,style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}}),e(F,{icon:e(C,{}),checkedIcon:e(T,{}),checked:n,size:"small"}),e("div",{style:{display:"flex",flexDirection:"column",textTransform:"uppercase"},children:e(g,{variant:"body1",fontWeight:"bold",children:a.provincia})}))})})},ce=()=>{const{control:r,setValue:t}=b(),o=_({control:r,name:"distrito"}),{provincia:u,distrito:i,setDistrito:d}=p.exports.useContext(q);return p.exports.useEffect(()=>{o&&d({id:0,distrito:o,id_provincia:0,provincia:""})},[]),e(s,{item:!0,xs:12,sm:6,md:3,children:e(R,{ref:null,inputProps:{label:"Distrito"},disableStyle:!0,params:{id_provincia:u?u.id:""},value:i,enableFirst:!0,onChange:(a,n)=>{d(n),n?t("distrito",n.distrito):t("distrito","")},isOptionEqualToValue:(a,n)=>a.id===n.id,urlFetch:"/distritos",getOptionLabel:a=>a.distrito,renderOption:(a,n,{selected:c})=>p.exports.createElement("li",h(m({},a),{key:n.id,style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}}),e(F,{icon:e(C,{}),checkedIcon:e(T,{}),checked:c,size:"small"}),f("div",{style:{display:"flex",flexDirection:"column",textTransform:"uppercase",padding:0,margin:0},children:[e(g,{variant:"body1",fontWeight:"bold",p:0,m:0,children:n.distrito}),e(g,{variant:"caption",p:0,m:0,children:n.provincia})]}))})})},de=()=>{const{control:r,setValue:t}=b(),o=_({control:r,name:"corregimiento"}),u=p.exports.useContext(q),{distrito:i,corregimiento:d,setCorregimiento:a}=u;return p.exports.useEffect(()=>{o&&a({id:0,corregimiento:o,id_distrito:0,distrito:"",provincia:""})},[]),e(s,{item:!0,xs:12,sm:6,md:3,children:e(R,{ref:null,inputProps:{label:"Corregimiento"},disableStyle:!0,params:{id_distrito:i?i.id:""},value:d,enableFirst:!0,onChange:(n,c)=>{a(c),c?t("corregimiento",c.corregimiento):t("corregimiento","")},isOptionEqualToValue:(n,c)=>n.id===c.id,urlFetch:"/corregimientos",getOptionLabel:n=>n.corregimiento,renderOption:(n,c,{selected:v})=>p.exports.createElement("li",h(m({},n),{key:c.id,style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}}),e(F,{icon:e(C,{}),checkedIcon:e(T,{}),checked:v,size:"small"}),f("div",{style:{display:"flex",flexDirection:"column",textTransform:"uppercase",padding:0,margin:0},children:[e(g,{variant:"body1",fontWeight:"bold",p:0,m:0,children:c.corregimiento}),f(g,{variant:"caption",p:0,m:0,children:[c.distrito," - ",c.provincia]})]}))})})},me=p.exports.lazy(()=>H(()=>import("./InputAsociarNegocio.js"),["assets/InputAsociarNegocio.js","assets/AutocompleteServer.js","assets/index.js","assets/index.css","assets/TextInput.js","assets/TextField.js","assets/FormHelperText.js","assets/useControlled.js","assets/react-is.production.min.js","assets/Modal2.js","assets/Backdrop.js","assets/isHostComponent.js","assets/Portal.js","assets/Paper.js","assets/Grow.js","assets/List.js","assets/createSvgIcon.js","assets/GlobalStyles.js","assets/useFetch.js","assets/jwt-decode.esm.js","assets/useHttpService.js","assets/Autocomplete.js","assets/Close.js","assets/IconButton.js","assets/ButtonBase.js","assets/useIsFocusVisible.js","assets/Popper.js","assets/Chip.js","assets/CheckBoxOutlineBlank.js","assets/jsx-runtime_commonjs-proxy.js","assets/array.js","assets/upperFirst.js","assets/BootstrapTooltip.js","assets/Tooltip.js","assets/ContentProvider.js","assets/useModal.js","assets/SpeedDial.module.js","assets/SpeedDial.module.css","assets/ChipState.js","assets/Error.js","assets/Modal.js","assets/Close2.js","assets/LoadingButton.js","assets/Typography.js","assets/Button.js","assets/platform.js","assets/ListItem.js","assets/Checkbox.js"])),De=()=>{var a,n,c,v,k,w,D,P,I,O,A;const{register:r,formState:t,control:o,watch:u}=b(),{errors:i}=t,d=u("declaracion_renta");return e(Z,{children:f(s,{container:!0,spacing:1,direction:"row",wrap:"wrap",sx:{"& > :not(style)":{flexGrow:1}},children:[e(s,{item:!0,sm:6,md:4,children:e(x,m({label:"RUC",fullWidth:!0,error:!!i.ruc,helperText:(a=i.ruc)==null?void 0:a.message,required:!0},r("ruc")))}),e(s,{item:!0,sm:6,md:3,children:e(x,m({label:"DV",fullWidth:!0,error:!!i.dv,helperText:(n=i.dv)==null?void 0:n.message,required:!0},r("dv")))}),e(s,{item:!0,sm:6,md:5,children:e(x,m({label:"Nombre del cliente",fullWidth:!0,error:!!i.nom_cliente,helperText:(c=i.nom_cliente)==null?void 0:c.message,required:!0},r("nom_cliente")))}),e(s,{item:!0,sm:6,md:4,children:e(x,m({label:"Nit",fullWidth:!0,error:!!i.nit,helperText:(v=i.nit)==null?void 0:v.message,required:!0},r("nit")))}),e(s,{item:!0,xs:12,sm:6,md:4,children:e(E,{control:o,label:"Tipo de cliente",options:["Persona Natural","Persona Jur\xEDdica"],values:G,error:!!i.tipo,helperText:(k=i.tipo)==null?void 0:k.message,name:"tipo"})}),e(s,{item:!0,xs:12,sm:6,md:4,children:e(E,{control:o,label:"Tipo de identificaci\xF3n - representante",options:y,error:!!i.tipoIdentificacion,helperText:(w=i.tipoIdentificacion)==null?void 0:w.message,name:"tipoIdentificacion",required:!0})}),e(s,{item:!0,sm:6,md:3,children:e(x,m({label:"Identificaci\xF3n del representante",fullWidth:!0,error:!!i.identificacion_rep,helperText:(P=(D=i.identificacion_rep)==null?void 0:D.message)!=null?P:"C\xE9dula o Pasaporte",required:!0},r("identificacion_rep")))}),e(s,{item:!0,sm:6,md:3,children:e(x,m({label:"Nombre del representante",fullWidth:!0,error:!!i.nombre_rep,helperText:(I=i.nombre_rep)==null?void 0:I.message,required:!0},r("nombre_rep")))}),e(s,{item:!0,xs:12,sm:6,md:3,children:e(Y,{name:"nacionalidad_owner",disableHeight:!0})}),e(s,{item:!0,sm:6,md:3,children:e(Q,{name:"telefono",label:"Tel\xE9fono",fullWidth:!0,error:!!i.telefono,helperText:i.telefono&&i.telefono.message?i.telefono.message:"Ejm: 6666-6666 \xF3 222-2222",required:!0})}),e(se,{}),e(ce,{}),e(de,{}),e(s,{item:!0,xs:12,sm:6,md:3,children:e(x,m({label:"Direcci\xF3n",fullWidth:!0,error:!!i.ubicacion,helperText:(O=i.ubicacion)==null?void 0:O.message,required:!0,inputProps:{maxLength:255}},r("ubicacion")))}),e(s,{item:!0,xs:12,children:e(ee,{children:e(J,{name:"declaracion_renta",control:o,render:({field:S})=>e(re,{control:e(F,h(m({},S),{defaultChecked:Boolean(Number(S.value))})),label:"Solo declaraci\xF3n de renta"})})})}),Boolean(Number(d))?f(V,{children:[e(s,{item:!0,xs:12,md:6,children:e(E,{control:o,label:"Tipo",options:["Personal","Alquiler","D.R."],values:["Personal","Alquiler","D.R."],error:!!i.tipo_personal,helperText:(A=i.tipo_personal)==null?void 0:A.message,name:"tipo_personal"})}),e(s,{item:!0,xs:12,md:6,children:e(p.exports.Suspense,{fallback:e("div",{}),children:e(me,{name:"negocio",label:"Negocio asociado"})})})]}):e(V,{})]})})},Pe=K().shape({nom_cliente:l().typeError("Favor ingresar el nombre").trim().required("Favor de ingresar el nombre del cliente").max(255,"Favor ingresar m\xE1ximo 255 caracteres"),ruc:l().typeError("Favor ingresar el RUC").typeError("Favor de ingresar el RUC").trim().required("Favor de ingresar el RUC").max(25,"Favor ingresar m\xE1ximo 25 caracteres").matches(te,"Favor ingresar solo n\xFAmeros, letras y/o guion(-)"),dv:l().typeError("Favor ingresar el d\xEDgito verificador").trim().max(2,"Favor ingresar un n\xFAmero de m\xE1ximo 2 d\xEDgitos").test("check","Favor ingresar un n\xFAmero de dos decimales",r=>!!(!r||r&&r.match(oe))).nullable().notRequired(),nit:l().trim().nullable(!0).notRequired(),tipo:l().typeError("Favor seleccionar el tipo").trim().required("Favor seleccionar el tipo del cliente").test("check-tipo","Favor seleccionar el tipo del cliente",r=>!!(r&&G.includes(r))),tipoIdentificacion:l().typeError("Favor seleccionar el tipo de identificacion").trim().test("is-identificacion","Favor seleccionar un tipo de identificaci\xF3n v\xE1lido: "+y.join(", "),r=>!!(!r||r&&y.includes(r))).nullable().notRequired(),identificacion_rep:l().typeError("Favor ingresar la c\xE9dula o pasaporte").trim().nullable().notRequired().when("tipoIdentificacion",{is:"C\xE9dula",then:l().typeError("Favor ingresar la c\xE9dula").trim().nullable().notRequired().matches(ae,"Favor de ingresar el formato de c\xE9dula v\xE1lido")}).when("tipoIdentificacion",{is:"Pasaporte",then:l().typeError("Favor ingresar el pasaporte").trim().nullable().notRequired().matches(ne,"Favor de ingresar el formato de pasaporte v\xE1lido")}),nombre_rep:l().typeError("Favor ingresar el nombre del representante").trim().nullable().notRequired().test("check-nombre","Favor ingresar solo letras del abecedario",r=>!!(!r||r&&r.match(L))),apellido_rep:l().typeError("Favor ingresar el apellido del representante").trim().nullable().notRequired().test("check-apellido","Favor ingresar solo letras del abecedario",r=>!!(!r||r&&r.match(L))),nacionalidad_owner:l().typeError("Favor seleccionar la nacionalidad del representante").trim().nullable().notRequired().test("check-nacionalidad","Favor de seleccionar la nacionalidad",r=>!!(!r||r&&X.includes(r.toLowerCase()))),telefono:l().typeError("Favor ingresar el tel\xE9fono").trim().nullable().notRequired().test("check-phoneNumber","Favor ingresar un n\xFAmero de tel\xE9fono v\xE1lido",r=>!!(!r||r&&RegExp(le).test(r)&&ie(r))),provincia:l().typeError("Favor ingresar la provincia").trim().max(50,"Favor ingresar m\xE1ximo 50 caracteres").nullable().notRequired(),distrito:l().typeError("Favor ingresar el distrito").trim().max(50,"Favor ingresar m\xE1ximo 50 caracteres").nullable().notRequired(),corregimiento:l().typeError("Favor ingresar el corregimiento").trim().max(50,"Favor ingresar m\xE1ximo 50 caracteres").nullable().notRequired(),ubicacion:l().typeError("Favor ingresar la direcci\xF3n").trim().max(255,"Favor ingresar m\xE1ximo 255 caracteres").nullable().notRequired(),declaracion_renta:M().transform((r,t)=>t===""?0:r).typeError("Favor seleccionar un valor booleano").nullable().notRequired(),tipo_personal:l().trim().typeError("Favor seleccionar el tipo personal o alquiler").nullable().notRequired().when("declaracion_renta",{is:!0,then:l().trim().typeError("Favor seleccionar el tipo personal o alquiler").required("Favor seleccionar el tipo personal o alquiler")})});export{De as D,Pe as e};
