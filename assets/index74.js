import{r as t,a as o,j as u,aw as f}from"./index.js";import{a as N,S as _}from"./FormLiquidacionProvider.js";import{f as d}from"./string.helper.js";import{L as C}from"./Loader.js";import{C as q}from"./ErrorIcon.js";import{A as S}from"./Alert.js";import"./useForm.js";import"./object.helper.js";import"./regex.js";import"./array.js";import"./upperFirst.js";import"./usePrint.js";import"./index23.js";import"./Grid.js";import"./Typography.js";import"./CircularProgress.js";import"./emotion-react.browser.esm.js";import"./StyledGridOverlay.js";import"./Box.js";import"./createSvgIcon.js";import"./Close.js";import"./Paper.js";import"./IconButton.js";import"./ButtonBase.js";import"./useIsFocusVisible.js";const g=()=>{const{form:r,negocio:e}=t.exports.useContext(N),{formState:m}=r,{identificacion:i,fecha_inicio:c}=m,{fetcherSalarios:a}=t.exports.useContext(_),[,l]=a;t.exports.useEffect(()=>{const h=setTimeout(()=>{e&&i!==""&&c!==""&&l("/admin/liquidaciones/salarios",{params:{id_negocio:e.id,q:i,mes:c}})},500);return()=>clearTimeout(h)},[e,i,c])},$="_container_heoqm_1",v="_pagination_heoqm_13",M="_response_heoqm_20",y="_table_heoqm_26",w="_header_heoqm_31",I="_row_heoqm_46",E="_column_heoqm_46",z="_selected_heoqm_58",T="_checkboxColumn_heoqm_62",A="_columnCenter_heoqm_67",F="_removeSpacing_heoqm_71",H="_message_heoqm_76",P="_columnIcon_heoqm_81",R="_iconButton_heoqm_85",V="_total_heoqm_89",B="_errorColor_heoqm_94",D="_successColor_heoqm_98",L="_hidden_heoqm_102";var s={container:$,pagination:v,response:M,table:y,header:w,row:I,column:E,selected:z,checkboxColumn:T,columnCenter:A,removeSpacing:F,message:H,columnIcon:P,iconButton:R,total:V,errorColor:B,successColor:D,hidden:L};const j="_toolbar_1pm2e_1",k="_title_1pm2e_7",O="_divToolbar_1pm2e_13",Z="_child_1pm2e_20",G="_formSearch_1pm2e_24",J="_searchAdorment_1pm2e_28",K="_banner_1pm2e_34";var x={toolbar:j,title:k,divToolbar:O,child:Z,formSearch:G,searchAdorment:J,banner:K};const b=()=>{const{fetcherSalarios:r}=t.exports.useContext(_),[,,e]=r,m=t.exports.useMemo(()=>e&&e.some(n=>Number(n.decimo)!==0),[e]),i=t.exports.useMemo(()=>e&&e.some(n=>Number(n.vacaciones)!==0),[e]),c=t.exports.useMemo(()=>e&&e.some(n=>Number(n.impuesto_renta)!==0),[e]),a=t.exports.useMemo(()=>e&&e.some(n=>Number(n.horas_extras)!==0),[e]),l=t.exports.useMemo(()=>e&&e.some(n=>Number(n.comisiones)!==0),[e]),h=t.exports.useMemo(()=>e&&e.some(n=>Number(n.preaviso)!==0),[e]),p=t.exports.useMemo(()=>e&&e.some(n=>Number(n.indemnizacion)!==0),[e]);return{isDecimo:m,isVacaciones:i,isRenta:c,isHorasExt:a,isComisiones:l,isPreaviso:h,isIndemnizacion:p}},Q=()=>{const{isDecimo:r,isVacaciones:e,isRenta:m,isComisiones:i,isHorasExt:c,isIndemnizacion:a,isPreaviso:l}=b();return o("thead",{className:s.header,children:u("tr",{children:[o("th",{children:"Mes"}),o("th",{children:"Salario"}),o("th",{className:r?"":s.hidden,children:"D\xE9cimo"}),o("th",{className:e?"":s.hidden,children:"Vacaciones"}),o("th",{className:m?"":s.hidden,children:"IMP. Renta"}),o("th",{className:c?"":s.hidden,children:"Horas extras"}),o("th",{className:i?"":s.hidden,children:"Comisiones"}),o("th",{className:l?"":s.hidden,children:"Preaviso"}),o("th",{className:a?"":s.hidden,children:"Indemnizaci\xF3n"})]})})},U=()=>{const{fetcherSalarios:r}=t.exports.useContext(_),[,,e]=r,{isDecimo:m,isVacaciones:i,isRenta:c,isComisiones:a,isHorasExt:l,isIndemnizacion:h,isPreaviso:p}=b();return o("tbody",{children:e==null?void 0:e.map(n=>u("tr",{className:`${s.row}`,children:[o("td",{className:s.column,children:f(n.mes,"MMMM - yyyy")}),o("td",{className:s.column,children:d(n.salario)}),o("td",{className:`${s.column} ${m?"":s.hidden}`,children:d(n.decimo)}),o("td",{className:`${s.column} ${i?"":s.hidden}`,children:d(n.vacaciones)}),o("td",{className:`${s.column} ${c?"":s.hidden}`,children:d(n.impuesto_renta)}),o("td",{className:`${s.column} ${l?"":s.hidden}`,children:d(n.horas_extras)}),o("td",{className:`${s.column} ${a?"":s.hidden}`,children:d(n.comisiones)}),o("td",{className:`${s.column} ${p?"":s.hidden}`,children:d(n.preaviso)}),o("td",{className:`${s.column} ${h?"":s.hidden}`,children:d(n.indemnizacion)})]},`${n.id}`))})},W=()=>o("div",{className:s.loader,children:o(C,{margin:20})}),X=()=>{const{fetcherSalarios:r}=t.exports.useContext(_),[,,,e]=r;return o("div",{className:s.message,children:o(q,{label:e==null?void 0:e.message})})},$e=()=>{const{fetcherSalarios:r}=t.exports.useContext(_),{form:e}=t.exports.useContext(N),{formState:m}=e,{fecha_inicio:i,identificacion:c}=m,[a,,l,h]=r;return g(),u("div",{className:s.container,children:[o("div",{className:x.toolbar,children:o("span",{className:x.title,children:"Salarios encontrados en planillas"})}),o("div",{className:s.response,children:u("table",{className:s.table,children:[o(Q,{}),o(U,{})]})}),a&&o(W,{}),(i===""||c==="")&&o(S,{variant:"outlined",color:"warning",severity:"warning",children:"Favor seleccionar la fecha de inicio de labores y la c\xE9dula"}),!a&&h&&!l&&o(X,{})]})};export{$e as default};
