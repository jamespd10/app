var z=Object.defineProperty,Q=Object.defineProperties;var G=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var A=(e,t,o)=>t in e?z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,R=(e,t)=>{for(var o in t||(t={}))B.call(t,o)&&A(e,o,t[o]);if(E)for(var o of E(t))F.call(t,o)&&A(e,o,t[o]);return e},_=(e,t)=>Q(e,G(t));var g=(e,t)=>{var o={};for(var r in e)B.call(e,r)&&t.indexOf(r)<0&&(o[r]=e[r]);if(e!=null&&E)for(var r of E(e))t.indexOf(r)<0&&F.call(e,r)&&(o[r]=e[r]);return o};import{s as y,a as i,j as v,_ as u,r as c,q as M,f as I,m as H,I as w,u as X,a0 as $}from"./index.js";import{a as Y,M as J,D as N,c as U}from"./LoadingButton.js";import{d as Z}from"./Close2.js";import{I as ee}from"./IconButton.js";import{u as oe,D as te,M as re}from"./MobileDatePicker.js";import{W as ne,u as se,a as ae,K as ce,C as ie,p as pe}from"./usePickerState.js";import{P as le}from"./Popper.js";import{P as ue}from"./Paper.js";import{T as de}from"./Modal2.js";import{B as fe}from"./Button.js";import{G as Pe}from"./Grow.js";const me=y(Y)(({theme:e})=>({"& .MuiDialogContent-root":{padding:e.spacing(2)},"& .MuiDialogActions-root":{padding:e.spacing(1)}})),Ve=e=>{const r=e,{scroll:t}=r,o=g(r,["scroll"]);return i(me,R({TransitionComponent:J,scroll:t||"paper"},o))},We=e=>{const s=e,{children:t,onClose:o}=s,r=g(s,["children","onClose"]);return v(N,_(R({sx:{m:0,p:2}},r),{children:[t,o?i(ee,{"aria-label":"close",onClick:o,sx:{position:"absolute",right:8,top:8,color:p=>p.palette.grey[500]},children:i(Z,{})}):null]}))},he=["onClick","onTouchStart"],ke=y(le)(({theme:e})=>({zIndex:e.zIndex.modal})),Te=y(ue)(({ownerState:e})=>u({transformOrigin:"top center",outline:0},e.placement==="top"&&{transformOrigin:"bottom center"})),xe=y(U)(({ownerState:e})=>u({},e.clearable?{justifyContent:"flex-start","& > *:first-of-type":{marginRight:"auto"}}:{padding:0}));function De(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Ce(e,t){const o=c.exports.useRef(!1),r=c.exports.useRef(!1),s=c.exports.useRef(null),p=c.exports.useRef(!1);c.exports.useEffect(()=>{if(!e)return;function n(){p.current=!0}return document.addEventListener("mousedown",n,!0),document.addEventListener("touchstart",n,!0),()=>{document.removeEventListener("mousedown",n,!0),document.removeEventListener("touchstart",n,!0),p.current=!1}},[e]);const a=H(n=>{if(!p.current)return;const d=r.current;r.current=!1;const l=w(s.current);if(!s.current||"clientX"in n&&De(n,l))return;if(o.current){o.current=!1;return}let f;n.composedPath?f=n.composedPath().indexOf(s.current)>-1:f=!l.documentElement.contains(n.target)||s.current.contains(n.target),!f&&!d&&t(n)}),P=()=>{r.current=!0};return c.exports.useEffect(()=>{if(e){const n=w(s.current),d=()=>{o.current=!0};return n.addEventListener("touchstart",a),n.addEventListener("touchmove",d),()=>{n.removeEventListener("touchstart",a),n.removeEventListener("touchmove",d)}}},[e,a]),c.exports.useEffect(()=>{if(e){const n=w(s.current);return n.addEventListener("click",a),()=>{n.removeEventListener("click",a),r.current=!1}}},[e,a]),[s,P,P]}const Ee=e=>{const{anchorEl:t,children:o,containerRef:r=null,onClose:s,onClear:p,clearable:a=!1,clearText:P="Clear",open:n,PopperProps:d,role:l,TransitionComponent:f=Pe,TrapFocusProps:m,PaperProps:h={}}=e;c.exports.useEffect(()=>{function D(C){(C.key==="Escape"||C.key==="Esc")&&s()}return document.addEventListener("keydown",D),()=>{document.removeEventListener("keydown",D)}},[s]);const k=c.exports.useRef(null);c.exports.useEffect(()=>{l!=="tooltip"&&(n?k.current=document.activeElement:k.current&&k.current instanceof HTMLElement&&k.current.focus())},[n,l]);const[x,j,K]=Ce(n,s),O=c.exports.useRef(null),V=M(O,r),W=M(V,x),b=e,{onClick:L,onTouchStart:S}=h,q=I(h,he);return i(ke,u({transition:!0,role:l,open:n,anchorEl:t,ownerState:b},d,{children:({TransitionProps:D,placement:C})=>i(de,u({open:n,disableAutoFocus:!0,disableEnforceFocus:l==="tooltip",isEnabled:()=>!0},m,{children:i(f,u({},D,{children:v(Te,u({tabIndex:-1,elevation:8,ref:W,onClick:T=>{j(T),L&&L(T)},onTouchStart:T=>{K(T),S&&S(T)},ownerState:u({},b,{placement:C})},q,{children:[o,i(xe,{ownerState:b,children:a&&i(fe,{onClick:p,children:P})})]}))}))}))}))};function ye(e){const{children:t,DateInputProps:o,KeyboardDateInputComponent:r,onDismiss:s,open:p,PopperProps:a,PaperProps:P,TransitionComponent:n,onClear:d,clearText:l,clearable:f}=e,m=c.exports.useRef(null),h=M(o.inputRef,m);return v(ne.Provider,{value:"desktop",children:[i(r,u({},o,{inputRef:h})),i(Ee,{role:"dialog",open:p,anchorEl:m.current,TransitionComponent:n,PopperProps:a,PaperProps:P,onClose:s,onClear:d,clearText:l,clearable:f,children:t})]})}const be=["onChange","PopperProps","PaperProps","ToolbarComponent","TransitionComponent","value","clearText","clearable"],Re={emptyValue:null,parseInput:pe,areValuesEqual:(e,t,o)=>e.isEqual(t,o)},ge=c.exports.forwardRef(function(t,o){const r=oe(t,"MuiDesktopDatePicker"),s=se(r)!==null,{pickerProps:p,inputProps:a,wrapperProps:P}=ae(r,Re),{PopperProps:n,PaperProps:d,ToolbarComponent:l=te,TransitionComponent:f,clearText:m,clearable:h}=r,k=I(r,be),x=u({},a,k,{ref:o,validationError:s});return i(ye,u({},P,{DateInputProps:x,KeyboardDateInputComponent:ce,PopperProps:n,PaperProps:d,TransitionComponent:f,clearText:m,clearable:h,children:i(ie,u({},p,{autoFocus:!0,toolbarTitle:r.label||r.toolbarTitle,ToolbarComponent:l,DateInputProps:x},k))}))}),we=["cancelText","desktopModeMediaQuery","DialogProps","okText","PopperProps","showTodayButton","todayText","TransitionComponent"],qe=c.exports.forwardRef(function(t,o){const r=X({props:t,name:"MuiDatePicker"}),{cancelText:s,desktopModeMediaQuery:p="@media (pointer: fine)",DialogProps:a,okText:P,PopperProps:n,showTodayButton:d,todayText:l,TransitionComponent:f}=r,m=I(r,we);return $(p)?i(ge,u({ref:o,PopperProps:n,TransitionComponent:f},m)):i(re,u({ref:o,cancelText:s,DialogProps:a,okText:P,showTodayButton:d,todayText:l},m))});export{Ve as B,qe as D,We as a};
